/* @license GNU-GPL-2.0-or-later https://www.drupal.org/licensing/faq */
(($,Drupal,{isTabbable})=>{$.extend($.expr[':'],{tabbable(element){Drupal.deprecationError({message:'The :tabbable selector is deprecated in Drupal 9.2.0 and will be removed in Drupal 11.0.0. Use the core/tabbable library instead. See https://www.drupal.org/node/3183730'});return isTabbable(element);}});})(jQuery,Drupal,window.tabbable);;
(($)=>{let cachedScrollbarWidth=null;const {max,abs}=Math;const regexHorizontal=/left|center|right/;const regexVertical=/top|center|bottom/;const regexOffset=/[+-]\d+(\.[\d]+)?%?/;const regexPosition=/^\w+/;const regexPercent=/%$/;const _position=$.fn.position;function getOffsets(offsets,width,height){return [parseFloat(offsets[0])*(regexPercent.test(offsets[0])?width/100:1),parseFloat(offsets[1])*(regexPercent.test(offsets[1])?height/100:1)];}function parseCss(element,property){return parseInt(window.getComputedStyle(element)[property],10)||0;}function getDimensions(elem){const raw=elem[0];if(raw.nodeType===9)return {width:elem.width(),height:elem.height(),offset:{top:0,left:0}};if($.isWindow(raw))return {width:elem.width(),height:elem.height(),offset:{top:elem.scrollTop(),left:elem.scrollLeft()}};if(raw.preventDefault)return {width:0,height:0,offset:{top:raw.pageY,left:raw.pageX}};return {width:elem.outerWidth(),height:elem.outerHeight(),offset:elem.offset()};}const collisions={fit:{left(position,data){const {within}=data;const withinOffset=within.isWindow?within.scrollLeft:within.offset.left;const outerWidth=within.width;const collisionPosLeft=position.left-data.collisionPosition.marginLeft;const overLeft=withinOffset-collisionPosLeft;const overRight=collisionPosLeft+data.collisionWidth-outerWidth-withinOffset;let newOverRight;if(data.collisionWidth>outerWidth)if(overLeft>0&&overRight<=0){newOverRight=position.left+overLeft+data.collisionWidth-outerWidth-withinOffset;position.left+=overLeft-newOverRight;}else if(overRight>0&&overLeft<=0)position.left=withinOffset;else if(overLeft>overRight)position.left=withinOffset+outerWidth-data.collisionWidth;else position.left=withinOffset;else if(overLeft>0)position.left+=overLeft;else if(overRight>0)position.left-=overRight;else position.left=max(position.left-collisionPosLeft,position.left);},top(position,data){const {within}=data;const withinOffset=within.isWindow?within.scrollTop:within.offset.top;const outerHeight=data.within.height;const collisionPosTop=position.top-data.collisionPosition.marginTop;const overTop=withinOffset-collisionPosTop;const overBottom=collisionPosTop+data.collisionHeight-outerHeight-withinOffset;let newOverBottom;if(data.collisionHeight>outerHeight)if(overTop>0&&overBottom<=0){newOverBottom=position.top+overTop+data.collisionHeight-outerHeight-withinOffset;position.top+=overTop-newOverBottom;}else if(overBottom>0&&overTop<=0)position.top=withinOffset;else if(overTop>overBottom)position.top=withinOffset+outerHeight-data.collisionHeight;else position.top=withinOffset;else if(overTop>0)position.top+=overTop;else if(overBottom>0)position.top-=overBottom;else position.top=max(position.top-collisionPosTop,position.top);}},flip:{left(position,data){const {within}=data;const withinOffset=within.offset.left+within.scrollLeft;const outerWidth=within.width;const offsetLeft=within.isWindow?within.scrollLeft:within.offset.left;const collisionPosLeft=position.left-data.collisionPosition.marginLeft;const overLeft=collisionPosLeft-offsetLeft;const overRight=collisionPosLeft+data.collisionWidth-outerWidth-offsetLeft;const myOffset=data.my[0]==='left'?-data.elemWidth:data.my[0]==='right'?data.elemWidth:0;const atOffset=data.at[0]==='left'?data.targetWidth:data.at[0]==='right'?-data.targetWidth:0;const offset=-2*data.offset[0];let newOverRight;let newOverLeft;if(overLeft<0){newOverRight=position.left+myOffset+atOffset+offset+data.collisionWidth-outerWidth-withinOffset;if(newOverRight<0||newOverRight<abs(overLeft))position.left+=myOffset+atOffset+offset;}else{if(overRight>0){newOverLeft=position.left-data.collisionPosition.marginLeft+myOffset+atOffset+offset-offsetLeft;if(newOverLeft>0||abs(newOverLeft)<overRight)position.left+=myOffset+atOffset+offset;}}},top(position,data){const {within}=data;const withinOffset=within.offset.top+within.scrollTop;const outerHeight=within.height;const offsetTop=within.isWindow?within.scrollTop:within.offset.top;const collisionPosTop=position.top-data.collisionPosition.marginTop;const overTop=collisionPosTop-offsetTop;const overBottom=collisionPosTop+data.collisionHeight-outerHeight-offsetTop;const top=data.my[1]==='top';const myOffset=top?-data.elemHeight:data.my[1]==='bottom'?data.elemHeight:0;const atOffset=data.at[1]==='top'?data.targetHeight:data.at[1]==='bottom'?-data.targetHeight:0;const offset=-2*data.offset[1];let newOverTop;let newOverBottom;if(overTop<0){newOverBottom=position.top+myOffset+atOffset+offset+data.collisionHeight-outerHeight-withinOffset;if(newOverBottom<0||newOverBottom<abs(overTop))position.top+=myOffset+atOffset+offset;}else{if(overBottom>0){newOverTop=position.top-data.collisionPosition.marginTop+myOffset+atOffset+offset-offsetTop;if(newOverTop>0||abs(newOverTop)<overBottom)position.top+=myOffset+atOffset+offset;}}}},flipfit:{left(...args){collisions.flip.left.apply(this,args);collisions.fit.left.apply(this,args);},top(...args){collisions.flip.top.apply(this,args);collisions.fit.top.apply(this,args);}}};$.position={scrollbarWidth(){if(cachedScrollbarWidth!==undefined)return cachedScrollbarWidth;const div=$('<div '+"style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'>"+"<div style='height:100px;width:auto;'></div></div>");const innerDiv=div.children()[0];$('body').append(div);const w1=innerDiv.offsetWidth;div[0].style.overflow='scroll';let w2=innerDiv.offsetWidth;if(w1===w2)w2=div[0].clientWidth;div.remove();cachedScrollbarWidth=w1-w2;return cachedScrollbarWidth;},getScrollInfo(within){const overflowX=within.isWindow||within.isDocument?'':window.getComputedStyle(within.element[0])['overflow-x'];const overflowY=within.isWindow||within.isDocument?'':window.getComputedStyle(within.element[0])['overflow-y'];const hasOverflowX=overflowX==='scroll'||(overflowX==='auto'&&within.width<within.element[0].scrollWidth);const hasOverflowY=overflowY==='scroll'||(overflowY==='auto'&&within.height<within.element[0].scrollHeight);return {width:hasOverflowY?$.position.scrollbarWidth():0,height:hasOverflowX?$.position.scrollbarWidth():0};},getWithinInfo(element){const withinElement=$(element||window);const isWindow=$.isWindow(withinElement[0]);const isDocument=!!withinElement[0]&&withinElement[0].nodeType===9;const hasOffset=!isWindow&&!isDocument;return {element:withinElement,isWindow,isDocument,offset:hasOffset?$(element).offset():{left:0,top:0},scrollLeft:withinElement.scrollLeft(),scrollTop:withinElement.scrollTop(),width:withinElement.outerWidth(),height:withinElement.outerHeight()};}};$.fn.position=function(options){if(!options||!options.of)return _position.apply(this,arguments);options=$.extend({},options);const within=$.position.getWithinInfo(options.within);const scrollInfo=$.position.getScrollInfo(within);const collision=(options.collision||'flip').split(' ');const offsets={};const target=typeof options.of==='string'?$(document).find(options.of):$(options.of);const dimensions=getDimensions(target);const targetWidth=dimensions.width;const targetHeight=dimensions.height;const targetOffset=dimensions.offset;if(target[0].preventDefault)options.at='left top';const basePosition=$.extend({},targetOffset);$.each(['my','at'],function(){let pos=(options[this]||'').split(' ');if(pos.length===1)pos=regexHorizontal.test(pos[0])?pos.concat(['center']):regexVertical.test(pos[0])?['center'].concat(pos):['center','center'];pos[0]=regexHorizontal.test(pos[0])?pos[0]:'center';pos[1]=regexVertical.test(pos[1])?pos[1]:'center';const horizontalOffset=regexOffset.exec(pos[0]);const verticalOffset=regexOffset.exec(pos[1]);offsets[this]=[horizontalOffset?horizontalOffset[0]:0,verticalOffset?verticalOffset[0]:0];options[this]=[regexPosition.exec(pos[0])[0],regexPosition.exec(pos[1])[0]];});if(collision.length===1)collision[1]=collision[0];if(options.at[0]==='right')basePosition.left+=targetWidth;else{if(options.at[0]==='center')basePosition.left+=targetWidth/2;}if(options.at[1]==='bottom')basePosition.top+=targetHeight;else{if(options.at[1]==='center')basePosition.top+=targetHeight/2;}const atOffset=getOffsets(offsets.at,targetWidth,targetHeight);basePosition.left+=atOffset[0];basePosition.top+=atOffset[1];return this.each(function(){let using;const elem=$(this);const elemWidth=elem.outerWidth();const elemHeight=elem.outerHeight();const marginLeft=parseCss(this,'marginLeft');const marginTop=parseCss(this,'marginTop');const collisionWidth=elemWidth+marginLeft+parseCss(this,'marginRight')+scrollInfo.width;const collisionHeight=elemHeight+marginTop+parseCss(this,'marginBottom')+scrollInfo.height;const position=$.extend({},basePosition);const myOffset=getOffsets(offsets.my,elem.outerWidth(),elem.outerHeight());if(options.my[0]==='right')position.left-=elemWidth;else{if(options.my[0]==='center')position.left-=elemWidth/2;}if(options.my[1]==='bottom')position.top-=elemHeight;else{if(options.my[1]==='center')position.top-=elemHeight/2;}position.left+=myOffset[0];position.top+=myOffset[1];const collisionPosition={marginLeft,marginTop};$.each(['left','top'],function(i,dir){if(collisions[collision[i]])collisions[collision[i]][dir](position,{targetWidth,targetHeight,elemWidth,elemHeight,collisionPosition,collisionWidth,collisionHeight,offset:[atOffset[0]+myOffset[0],atOffset[1]+myOffset[1]],my:options.my,at:options.at,within,elem});});if(options.using)using=function(props){const left=targetOffset.left-position.left;const right=left+targetWidth-elemWidth;const top=targetOffset.top-position.top;const bottom=top+targetHeight-elemHeight;const feedback={target:{element:target,left:targetOffset.left,top:targetOffset.top,width:targetWidth,height:targetHeight},element:{element:elem,left:position.left,top:position.top,width:elemWidth,height:elemHeight},horizontal:right<0?'left':left>0?'right':'center',vertical:bottom<0?'top':top>0?'bottom':'middle'};if(targetWidth<elemWidth&&abs(left+right)<targetWidth)feedback.horizontal='center';if(targetHeight<elemHeight&&abs(top+bottom)<targetHeight)feedback.vertical='middle';if(max(abs(left),abs(right))>max(abs(top),abs(bottom)))feedback.important='horizontal';else feedback.important='vertical';options.using.call(this,props,feedback);};elem.offset($.extend(position,{using}));});};if(!$.hasOwnProperty('ui'))$.ui={};$.ui.position=collisions;})(jQuery);;
(function($,Drupal,drupalSettings,bodyScrollLock){drupalSettings.dialog={autoOpen:true,dialogClass:'',buttonClass:'button',buttonPrimaryClass:'button--primary',close(event){Drupal.dialog(event.target).close();Drupal.detachBehaviors(event.target,null,'unload');}};Drupal.dialog=function(element,options){let undef;const $element=$(element);const dialog={open:false,returnValue:undef};function openDialog(settings){settings=$.extend({},drupalSettings.dialog,options,settings);$(window).trigger('dialog:beforecreate',[dialog,$element,settings]);$element.dialog(settings);dialog.open=true;if(settings.modal)bodyScrollLock.lock($element.get(0));$(window).trigger('dialog:aftercreate',[dialog,$element,settings]);}function closeDialog(value){$(window).trigger('dialog:beforeclose',[dialog,$element]);bodyScrollLock.clearBodyLocks();$element.dialog('close');dialog.returnValue=value;dialog.open=false;$(window).trigger('dialog:afterclose',[dialog,$element]);}dialog.show=()=>{openDialog({modal:false});};dialog.showModal=()=>{openDialog({modal:true});};dialog.close=closeDialog;return dialog;};})(jQuery,Drupal,drupalSettings,bodyScrollLock);;
(function($,Drupal,drupalSettings,debounce,displace){drupalSettings.dialog=$.extend({autoResize:true,maxHeight:'95%'},drupalSettings.dialog);function resetPosition(options){const offsets=displace.offsets;const left=offsets.left-offsets.right;const top=offsets.top-offsets.bottom;const leftString=`${(left>0?'+':'-')+Math.abs(Math.round(left/2))}px`;const topString=`${(top>0?'+':'-')+Math.abs(Math.round(top/2))}px`;options.position={my:`center${left!==0?leftString:''} center${top!==0?topString:''}`,of:window};return options;}function resetSize(event){const positionOptions=['width','height','minWidth','minHeight','maxHeight','maxWidth','position'];let adjustedOptions={};let windowHeight=$(window).height();let option;let optionValue;let adjustedValue;for(let n=0;n<positionOptions.length;n++){option=positionOptions[n];optionValue=event.data.settings[option];if(optionValue)if(typeof optionValue==='string'&&/%$/.test(optionValue)&&/height/i.test(option)){windowHeight-=displace.offsets.top+displace.offsets.bottom;adjustedValue=parseInt(0.01*parseInt(optionValue,10)*windowHeight,10);if(option==='height'&&event.data.$element.parent().outerHeight()<adjustedValue)adjustedValue='auto';adjustedOptions[option]=adjustedValue;}}if(!event.data.settings.modal)adjustedOptions=resetPosition(adjustedOptions);event.data.$element.dialog('option',adjustedOptions).trigger('dialogContentResize');}$(window).on({'dialog:aftercreate':function(event,dialog,$element,settings){const autoResize=debounce(resetSize,20);const eventData={settings,$element};if(settings.autoResize===true||settings.autoResize==='true'){const uiDialog=$element.dialog('option',{resizable:false,draggable:false}).dialog('widget');uiDialog[0].style.position='fixed';$(window).on('resize.dialogResize scroll.dialogResize',eventData,autoResize).trigger('resize.dialogResize');$(document).on('drupalViewportOffsetChange.dialogResize',eventData,autoResize);}},'dialog:beforeclose':function(event,dialog,$element){$(window).off('.dialogResize');$(document).off('.dialogResize');}});})(jQuery,Drupal,drupalSettings,Drupal.debounce,Drupal.displace);;
(function($,{tabbable,isTabbable}){$.widget('ui.dialog',$.ui.dialog,{options:{buttonClass:'button',buttonPrimaryClass:'button--primary'},_createButtons(){const opts=this.options;let primaryIndex;let index;const il=opts.buttons.length;for(index=0;index<il;index++)if(opts.buttons[index].primary&&opts.buttons[index].primary===true){primaryIndex=index;delete opts.buttons[index].primary;break;}this._super();const $buttons=this.uiButtonSet.children().addClass(opts.buttonClass);if(typeof primaryIndex!=='undefined')$buttons.eq(index).addClass(opts.buttonPrimaryClass);},_focusTabbable(){let hasFocus=this._focusedElement?this._focusedElement.get(0):null;if(!hasFocus)hasFocus=this.element.find('[autofocus]').get(0);if(!hasFocus){const $elements=[this.element,this.uiDialogButtonPane];for(let i=0;i<$elements.length;i++){const element=$elements[i].get(0);if(element){const elementTabbable=tabbable(element);hasFocus=elementTabbable.length?elementTabbable[0]:null;}if(hasFocus)break;}}if(!hasFocus){const closeBtn=this.uiDialogTitlebarClose.get(0);hasFocus=closeBtn&&isTabbable(closeBtn)?closeBtn:null;}if(!hasFocus)hasFocus=this.uiDialog.get(0);$(hasFocus).eq(0).trigger('focus');}});})(jQuery,window.tabbable);;
(function($){$.widget('ui.dialog',$.ui.dialog,{_allowInteraction:function _allowInteraction(event){return $(event.target).closest('.cke_dialog').length||this._super(event);}});})(jQuery);;
(function($,Drupal,drupalSettings){function findFieldForFormatSelector($formatSelector){const fieldId=$formatSelector.attr('data-editor-for');return $(`#${fieldId}`).get(0);}function filterXssWhenSwitching(field,format,originalFormatID,callback){if(format.editor.isXssSafe)callback(field,format);else $.ajax({url:Drupal.url(`editor/filter_xss/${format.format}`),type:'POST',data:{value:field.value,original_format_id:originalFormatID},dataType:'json',success(xssFilteredValue){if(xssFilteredValue!==false)field.value=xssFilteredValue;callback(field,format);}});}function changeTextEditor(field,newFormatID){const previousFormatID=field.getAttribute('data-editor-active-text-format');if(drupalSettings.editor.formats[previousFormatID])Drupal.editorDetach(field,drupalSettings.editor.formats[previousFormatID]);else $(field).off('.editor');if(drupalSettings.editor.formats[newFormatID]){const format=drupalSettings.editor.formats[newFormatID];filterXssWhenSwitching(field,format,previousFormatID,Drupal.editorAttach);}field.setAttribute('data-editor-active-text-format',newFormatID);}function onTextFormatChange(event){const select=event.target;const field=event.data.field;const activeFormatID=field.getAttribute('data-editor-active-text-format');const newFormatID=select.value;if(newFormatID===activeFormatID)return;const supportContentFiltering=drupalSettings.editor.formats[newFormatID]&&drupalSettings.editor.formats[newFormatID].editorSupportsContentFiltering;const hasContent=field.value!=='';if(hasContent&&supportContentFiltering){const message=Drupal.t('Changing the text format to %text_format will permanently remove content that is not allowed in that text format.<br><br>Save your changes before switching the text format to avoid losing data.',{'%text_format':$(select).find('option:selected')[0].textContent});const confirmationDialog=Drupal.dialog(`<div>${message}</div>`,{title:Drupal.t('Change text format?'),dialogClass:'editor-change-text-format-modal',resizable:false,buttons:[{text:Drupal.t('Continue'),class:'button button--primary',click(){changeTextEditor(field,newFormatID);confirmationDialog.close();}},{text:Drupal.t('Cancel'),class:'button',click(){select.value=activeFormatID;const eventChange=new Event('change');select.dispatchEvent(eventChange);confirmationDialog.close();}}],closeOnEscape:false,create(){$(this).parent().find('.ui-dialog-titlebar-close').remove();},beforeClose:false,close(event){$(event.target).remove();}});confirmationDialog.showModal();}else changeTextEditor(field,newFormatID);}Drupal.editors={};Drupal.behaviors.editor={attach(context,settings){if(!settings.editor)return;once('editor','[data-editor-for]',context).forEach((editor)=>{const $this=$(editor);const field=findFieldForFormatSelector($this);if(!field)return;const activeFormatID=editor.value;field.setAttribute('data-editor-active-text-format',activeFormatID);if(settings.editor.formats[activeFormatID])Drupal.editorAttach(field,settings.editor.formats[activeFormatID]);$(field).on('change.editor keypress.editor',()=>{field.setAttribute('data-editor-value-is-changed','true');$(field).off('.editor');});if(editor.tagName==='SELECT')$this.on('change.editorAttach',{field},onTextFormatChange);$this.parents('form').on('submit',(event)=>{if(event.isDefaultPrevented())return;if(settings.editor.formats[activeFormatID])Drupal.editorDetach(field,settings.editor.formats[activeFormatID],'serialize');});});},detach(context,settings,trigger){let editors;if(trigger==='serialize')editors=once.filter('editor','[data-editor-for]',context);else editors=once.remove('editor','[data-editor-for]',context);editors.forEach((editor)=>{const $this=$(editor);const activeFormatID=editor.value;const field=findFieldForFormatSelector($this);if(field&&activeFormatID in settings.editor.formats)Drupal.editorDetach(field,settings.editor.formats[activeFormatID],trigger);});}};Drupal.editorAttach=function(field,format){if(format.editor){Drupal.editors[format.editor].attach(field,format);Drupal.editors[format.editor].onChange(field,()=>{$(field).trigger('formUpdated');field.setAttribute('data-editor-value-is-changed','true');});}};Drupal.editorDetach=function(field,format,trigger){if(format.editor){Drupal.editors[format.editor].detach(field,format,trigger);if(field.getAttribute('data-editor-value-is-changed')==='false')field.value=field.getAttribute('data-editor-value-original');}};})(jQuery,Drupal,drupalSettings);;
(function(Drupal,debounce,CKEDITOR,$,displace,AjaxCommands){Drupal.editors.ckeditor={attach:function attach(element,format){this._loadExternalPlugins(format);format.editorSettings.drupal={format:format.format};var label=$("label[for=".concat(element.getAttribute('id'),"]")).html();format.editorSettings.title=Drupal.t('Rich Text Editor, !label field',{'!label':label});return !!CKEDITOR.replace(element,format.editorSettings);},detach:function detach(element,format,trigger){var editor=CKEDITOR.dom.element.get(element).getEditor();if(editor)if(trigger==='serialize')editor.updateElement();else{editor.destroy();element.removeAttribute('contentEditable');}return !!editor;},onChange:function onChange(element,callback){var editor=CKEDITOR.dom.element.get(element).getEditor();if(editor){editor.on('change',debounce(function(){callback(editor.getData());},400));editor.on('mode',function(){var editable=editor.editable();if(!editable.isInline())editor.on('autoGrow',function(evt){var doc=evt.editor.document;var scrollable=CKEDITOR.env.quirks?doc.getBody():doc.getDocumentElement();if(scrollable.$.scrollHeight<scrollable.$.clientHeight)scrollable.setStyle('overflow-y','hidden');else scrollable.removeStyle('overflow-y');},null,null,10000);});}return !!editor;},attachInlineEditor:function attachInlineEditor(element,format,mainToolbarId,floatedToolbarId){this._loadExternalPlugins(format);format.editorSettings.drupal={format:format.format};var settings=$.extend(true,{},format.editorSettings);if(mainToolbarId){var settingsOverride={extraPlugins:'sharedspace',removePlugins:'floatingspace,elementspath',sharedSpaces:{top:mainToolbarId}};var sourceButtonFound=false;for(var i=0;!sourceButtonFound&&i<settings.toolbar.length;i++)if(settings.toolbar[i]!=='/')for(var j=0;!sourceButtonFound&&j<settings.toolbar[i].items.length;j++)if(settings.toolbar[i].items[j]==='Source'){sourceButtonFound=true;settings.toolbar[i].items[j]='Sourcedialog';settingsOverride.extraPlugins+=',sourcedialog';settingsOverride.removePlugins+=',sourcearea';}settings.extraPlugins+=",".concat(settingsOverride.extraPlugins);settings.removePlugins+=",".concat(settingsOverride.removePlugins);settings.sharedSpaces=settingsOverride.sharedSpaces;}element.setAttribute('contentEditable','true');return !!CKEDITOR.inline(element,settings);},_loadExternalPlugins:function _loadExternalPlugins(format){var externalPlugins=format.editorSettings.drupalExternalPlugins;if(externalPlugins){Object.keys(externalPlugins||{}).forEach(function(pluginName){CKEDITOR.plugins.addExternal(pluginName,externalPlugins[pluginName],'');});delete format.editorSettings.drupalExternalPlugins;}}};Drupal.ckeditor={saveCallback:null,openDialog:function openDialog(editor,url,existingValues,saveCallback,dialogSettings){var $target=$(editor.container.$);if(editor.elementMode===CKEDITOR.ELEMENT_MODE_REPLACE)$target=$target.find('.cke_contents');$target.css('position','relative').find('.ckeditor-dialog-loading').remove();var classes=dialogSettings.dialogClass?dialogSettings.dialogClass.split(' '):[];classes.push('ui-dialog--narrow');dialogSettings.dialogClass=classes.join(' ');dialogSettings.autoResize=window.matchMedia('(min-width: 600px)').matches;dialogSettings.width='auto';var $content=$("<div class=\"ckeditor-dialog-loading\"><span style=\"top: -40px;\" class=\"ckeditor-dialog-loading-link\">".concat(Drupal.t('Loading...'),"</span></div>"));$content.appendTo($target);var ckeditorAjaxDialog=Drupal.ajax({dialog:dialogSettings,dialogType:'modal',selector:'.ckeditor-dialog-loading-link',url,progress:{type:'throbber'},submit:{editor_object:existingValues}});ckeditorAjaxDialog.execute();window.setTimeout(function(){$content.find('span').animate({top:'0px'});},1000);Drupal.ckeditor.saveCallback=saveCallback;}};$(window).on('dialogcreate',function(e,dialog,$element,settings){$('.ui-dialog--narrow').css('zIndex',CKEDITOR.config.baseFloatZIndex+1);});$(window).on('dialog:beforecreate',function(e,dialog,$element,settings){$('.ckeditor-dialog-loading').animate({top:'-40px'},function(){$(this).remove();});});$(window).on('editor:dialogsave',function(e,values){if(Drupal.ckeditor.saveCallback)Drupal.ckeditor.saveCallback(values);});$(window).on('dialog:afterclose',function(e,dialog,$element){if(Drupal.ckeditor.saveCallback)Drupal.ckeditor.saveCallback=null;});$(document).on('drupalViewportOffsetChange',function(){CKEDITOR.config.autoGrow_maxHeight=0.7*(window.innerHeight-displace.offsets.top-displace.offsets.bottom);});function redirectTextareaFragmentToCKEditorInstance(){var hash=window.location.hash.substr(1);var element=document.getElementById(hash);if(element){var editor=CKEDITOR.dom.element.get(element).getEditor();if(editor){var id=editor.container.getAttribute('id');window.location.replace("#".concat(id));}}}$(window).on('hashchange.ckeditor',redirectTextareaFragmentToCKEditorInstance);CKEDITOR.config.autoGrow_onStartup=true;CKEDITOR.config.autoGrow_maxHeight=0.7*window.innerHeight;CKEDITOR.timestamp=drupalSettings.ckeditor.timestamp;if(AjaxCommands)AjaxCommands.prototype.ckeditor_add_stylesheet=function(ajax,response,status){var editor=CKEDITOR.instances[response.editor_id];if(editor)response.stylesheets.forEach(function(url){editor.document.appendStyleSheet(url);});};})(Drupal,Drupal.debounce,CKEDITOR,jQuery,Drupal.displace,Drupal.AjaxCommands);;
(function($,CKEDITOR){var convertToOffCanvasCss=function convertToOffCanvasCss(originalCss){var selectorPrefix='#drupal-off-canvas ';var skinPath="".concat(CKEDITOR.basePath).concat(CKEDITOR.skinName,"/");var css=originalCss.substring(originalCss.indexOf('*/')+2).trim().replace(/}/g,"}".concat(selectorPrefix)).replace(/,/g,",".concat(selectorPrefix)).replace(/url\(/g,skinPath);return "".concat(selectorPrefix).concat(css);};var insertCss=function insertCss(cssToInsert){var offCanvasCss=document.createElement('style');offCanvasCss.innerHTML=cssToInsert;offCanvasCss.setAttribute('id','ckeditor-off-canvas-reset');document.body.appendChild(offCanvasCss);};var addCkeditorOffCanvasCss=function addCkeditorOffCanvasCss(){if(document.getElementById('ckeditor-off-canvas-reset'))return;CKEDITOR.skinName=CKEDITOR.skin.name;var editorCssPath=CKEDITOR.skin.getPath('editor');var dialogCssPath=CKEDITOR.skin.getPath('dialog');var storedOffCanvasCss=window.localStorage.getItem("Drupal.off-canvas.css.".concat(editorCssPath).concat(dialogCssPath));if(storedOffCanvasCss){insertCss(storedOffCanvasCss);return;}$.when($.get(editorCssPath),$.get(dialogCssPath)).done(function(editorCss,dialogCss){var offCanvasEditorCss=convertToOffCanvasCss(editorCss[0]);var offCanvasDialogCss=convertToOffCanvasCss(dialogCss[0]);var cssToInsert="#drupal-off-canvas .cke_inner * {background: transparent;}\n          ".concat(offCanvasEditorCss,"\n          ").concat(offCanvasDialogCss);insertCss(cssToInsert);if(CKEDITOR.timestamp&&editorCssPath.indexOf(CKEDITOR.timestamp)!==-1&&dialogCssPath.indexOf(CKEDITOR.timestamp)!==-1){Object.keys(window.localStorage).forEach(function(key){if(key.indexOf('Drupal.off-canvas.css.')===0)window.localStorage.removeItem(key);});window.localStorage.setItem("Drupal.off-canvas.css.".concat(editorCssPath).concat(dialogCssPath),cssToInsert);}});};addCkeditorOffCanvasCss();})(jQuery,CKEDITOR);;
(()=>{"use strict";var t,e={4238:(t,e,o)=>{function i(t){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t;}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t;},i(t);}function n(t,e){var o="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!o){if(Array.isArray(t)||(o=function(t,e){if(t){if("string"==typeof t)return s(t,e);var o=Object.prototype.toString.call(t).slice(8,-1);return "Object"===o&&t.constructor&&(o=t.constructor.name),"Map"===o||"Set"===o?Array.from(t):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?s(t,e):void 0;}}(t))||e&&t&&"number"==typeof t.length){o&&(t=o);var i=0,n=function(){};return {s:n,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]};},e:function(t){throw t;},f:n};}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}var a,r=!0,l=!1;return {s:function(){o=o.call(t);},n:function(){var t=o.next();return r=t.done,t;},e:function(t){l=!0,a=t;},f:function(){try{r||null==o.return||o.return();}finally{if(l)throw a;}}};}function s(t,e){(null==e||e>t.length)&&(e=t.length);for(var o=0,i=new Array(e);o<e;o++)i[o]=t[o];return i;}function a(t,e){for(var o=0;o<e.length;o++){var i=e[o];i.enumerable=i.enumerable||!1,i.configurable=!0,"value" in i&&(i.writable=!0),Object.defineProperty(t,i.key,i);}}function r(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t;}e.Z=void 0;var l=function(){function t(e,o){var i=this;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function");}(this,t),r(this,"defaultOptions",{sourceAttr:"href",overlay:!0,spinner:!0,nav:!0,navText:["&lsaquo;","&rsaquo;"],captions:!0,captionDelay:0,captionSelector:"img",captionType:"attr",captionsData:"title",captionPosition:"bottom",captionClass:"",close:!0,closeText:"&times;",swipeClose:!0,showCounter:!0,fileExt:"png|jpg|jpeg|gif|webp",animationSlide:!0,animationSpeed:250,preloading:!0,enableKeyboard:!0,loop:!0,rel:!1,docClose:!0,swipeTolerance:50,className:"simple-lightbox",widthRatio:.8,heightRatio:.9,scaleImageToRatio:!1,disableRightClick:!1,disableScroll:!0,alertError:!0,alertErrorMessage:"Image not found, next image will be loaded",additionalHtml:!1,history:!0,throttleInterval:0,doubleTapZoom:2,maxZoom:10,htmlClass:"has-lightbox",rtl:!1,fixedClass:"sl-fixed",fadeSpeed:300,uniqueImages:!0,focus:!0,scrollZoom:!0,scrollZoomFactor:.5}),r(this,"transitionPrefix",void 0),r(this,"isPassiveEventsSupported",void 0),r(this,"transitionCapable",!1),r(this,"isTouchDevice","ontouchstart" in window),r(this,"isAppleDevice",/(Mac|iPhone|iPod|iPad)/i.test(navigator.platform)),r(this,"initialLocationHash",void 0),r(this,"pushStateSupport","pushState" in history),r(this,"isOpen",!1),r(this,"isAnimating",!1),r(this,"isClosing",!1),r(this,"isFadeIn",!1),r(this,"urlChangedOnce",!1),r(this,"hashReseted",!1),r(this,"historyHasChanges",!1),r(this,"historyUpdateTimeout",null),r(this,"currentImage",void 0),r(this,"eventNamespace","simplelightbox"),r(this,"domNodes",{}),r(this,"loadedImages",[]),r(this,"initialImageIndex",0),r(this,"currentImageIndex",0),r(this,"initialSelector",null),r(this,"globalScrollbarWidth",0),r(this,"controlCoordinates",{swipeDiff:0,swipeYDiff:0,swipeStart:0,swipeEnd:0,swipeYStart:0,swipeYEnd:0,mousedown:!1,imageLeft:0,zoomed:!1,containerHeight:0,containerWidth:0,containerOffsetX:0,containerOffsetY:0,imgHeight:0,imgWidth:0,capture:!1,initialOffsetX:0,initialOffsetY:0,initialPointerOffsetX:0,initialPointerOffsetY:0,initialPointerOffsetX2:0,initialPointerOffsetY2:0,initialScale:1,initialPinchDistance:0,pointerOffsetX:0,pointerOffsetY:0,pointerOffsetX2:0,pointerOffsetY2:0,targetOffsetX:0,targetOffsetY:0,targetScale:0,pinchOffsetX:0,pinchOffsetY:0,limitOffsetX:0,limitOffsetY:0,scaleDifference:0,targetPinchDistance:0,touchCount:0,doubleTapped:!1,touchmoveCount:0}),this.options=Object.assign(this.defaultOptions,o),this.isPassiveEventsSupported=this.checkPassiveEventsSupport(),"string"==typeof e?(this.initialSelector=e,this.elements=Array.from(document.querySelectorAll(e))):this.elements=void 0!==e.length&&e.length>0?Array.from(e):[e],this.relatedElements=[],this.transitionPrefix=this.calculateTransitionPrefix(),this.transitionCapable=!1!==this.transitionPrefix,this.initialLocationHash=this.hash,this.options.rel&&(this.elements=this.getRelated(this.options.rel)),this.options.uniqueImages){var n=[];this.elements=Array.from(this.elements).filter((function(t){var e=t.getAttribute(i.options.sourceAttr);return -1===n.indexOf(e)&&(n.push(e),!0);}));}this.createDomNodes(),this.options.close&&this.domNodes.wrapper.appendChild(this.domNodes.closeButton),this.options.nav&&this.domNodes.wrapper.appendChild(this.domNodes.navigation),this.options.spinner&&this.domNodes.wrapper.appendChild(this.domNodes.spinner),this.addEventListener(this.elements,"click."+this.eventNamespace,(function(t){if(i.isValidLink(t.currentTarget)){if(t.preventDefault(),i.isAnimating)return !1;i.initialImageIndex=i.elements.indexOf(t.currentTarget),i.openImage(t.currentTarget);}})),this.options.docClose&&this.addEventListener(this.domNodes.wrapper,["click."+this.eventNamespace,"touchstart."+this.eventNamespace],(function(t){i.isOpen&&t.target===t.currentTarget&&i.close();})),this.options.disableRightClick&&this.addEventListener(document.body,"contextmenu."+this.eventNamespace,(function(t){t.target.parentElement.classList.contains("sl-image")&&t.preventDefault();})),this.options.enableKeyboard&&this.addEventListener(document.body,"keyup."+this.eventNamespace,this.throttle((function(t){if(i.controlCoordinates.swipeDiff=0,i.isAnimating&&"Escape"===t.key)return i.currentImage.setAttribute("src",""),i.isAnimating=!1,i.close();i.isOpen&&(t.preventDefault(),"Escape"===t.key&&i.close(),!i.isAnimating&&["ArrowLeft","ArrowRight"].indexOf(t.key)>-1&&i.loadImage("ArrowRight"===t.key?1:-1));}),this.options.throttleInterval)),this.addEvents();}var e,o;return e=t,o=[{key:"checkPassiveEventsSupport",value:function(){var t=!1;try{var e=Object.defineProperty({},"passive",{get:function(){t=!0;}});window.addEventListener("testPassive",null,e),window.removeEventListener("testPassive",null,e);}catch(t){}return t;}},{key:"createDomNodes",value:function(){this.domNodes.overlay=document.createElement("div"),this.domNodes.overlay.classList.add("sl-overlay"),this.domNodes.overlay.dataset.opacityTarget=".7",this.domNodes.closeButton=document.createElement("button"),this.domNodes.closeButton.classList.add("sl-close"),this.domNodes.closeButton.innerHTML=this.options.closeText,this.domNodes.spinner=document.createElement("div"),this.domNodes.spinner.classList.add("sl-spinner"),this.domNodes.spinner.innerHTML="<div></div>",this.domNodes.navigation=document.createElement("div"),this.domNodes.navigation.classList.add("sl-navigation"),this.domNodes.navigation.innerHTML='<button class="sl-prev">'.concat(this.options.navText[0],'</button><button class="sl-next">').concat(this.options.navText[1],"</button>"),this.domNodes.counter=document.createElement("div"),this.domNodes.counter.classList.add("sl-counter"),this.domNodes.counter.innerHTML='<span class="sl-current"></span>/<span class="sl-total"></span>',this.domNodes.caption=document.createElement("div"),this.domNodes.caption.classList.add("sl-caption","pos-"+this.options.captionPosition),this.options.captionClass&&this.domNodes.caption.classList.add(this.options.captionClass),this.domNodes.image=document.createElement("div"),this.domNodes.image.classList.add("sl-image"),this.domNodes.wrapper=document.createElement("div"),this.domNodes.wrapper.classList.add("sl-wrapper"),this.domNodes.wrapper.setAttribute("tabindex",-1),this.domNodes.wrapper.setAttribute("role","dialog"),this.domNodes.wrapper.setAttribute("aria-hidden",!1),this.options.className&&this.domNodes.wrapper.classList.add(this.options.className),this.options.rtl&&this.domNodes.wrapper.classList.add("sl-dir-rtl");}},{key:"throttle",value:function(t,e){var o;return function(){o||(t.apply(this,arguments),o=!0,setTimeout((function(){return o=!1;}),e));};}},{key:"isValidLink",value:function(t){return !this.options.fileExt||t.getAttribute(this.options.sourceAttr)&&new RegExp("("+this.options.fileExt+")$","i").test(t.getAttribute(this.options.sourceAttr));}},{key:"calculateTransitionPrefix",value:function(){var t=(document.body||document.documentElement).style;return "transition" in t?"":"WebkitTransition" in t?"-webkit-":"MozTransition" in t?"-moz-":"OTransition" in t&&"-o";}},{key:"toggleScrollbar",value:function(t){var e=0,o=[].slice.call(document.querySelectorAll("."+this.options.fixedClass));if("hide"===t){var i=window.innerWidth;if(!i){var n=document.documentElement.getBoundingClientRect();i=n.right-Math.abs(n.left);}if(document.body.clientWidth<i||this.isAppleDevice){var s=document.createElement("div"),a=parseInt(document.body.style.paddingRight||0,10);s.classList.add("sl-scrollbar-measure"),document.body.appendChild(s),e=s.offsetWidth-s.clientWidth,document.body.removeChild(s),document.body.dataset.originalPaddingRight=a,(e>0||0==e&&this.isAppleDevice)&&(document.body.classList.add("hidden-scroll"),document.body.style.paddingRight=a+e+"px",o.forEach((function(t){var o=t.style.paddingRight,i=window.getComputedStyle(t)["padding-right"];t.dataset.originalPaddingRight=o,t.style.paddingRight="".concat(parseFloat(i)+e,"px");})));}}else document.body.classList.remove("hidden-scroll"),document.body.style.paddingRight=document.body.dataset.originalPaddingRight,o.forEach((function(t){var e=t.dataset.originalPaddingRight;void 0!==e&&(t.style.paddingRight=e);}));return e;}},{key:"close",value:function(){var t=this;if(!this.isOpen||this.isAnimating||this.isClosing)return !1;this.isClosing=!0;var e=this.relatedElements[this.currentImageIndex];for(var o in e.dispatchEvent(new Event("close.simplelightbox")),this.options.history&&(this.historyHasChanges=!1,this.hashReseted||this.resetHash()),this.removeEventListener(document,"focusin."+this.eventNamespace),this.fadeOut(document.querySelectorAll(".sl-image img, .sl-overlay, .sl-close, .sl-navigation, .sl-image .sl-caption, .sl-counter"),this.options.fadeSpeed,(function(){t.options.disableScroll&&t.toggleScrollbar("show"),t.options.htmlClass&&""!==t.options.htmlClass&&document.querySelector("html").classList.remove(t.options.htmlClass),document.body.removeChild(t.domNodes.wrapper),document.body.removeChild(t.domNodes.overlay),t.domNodes.additionalHtml=null,e.dispatchEvent(new Event("closed.simplelightbox")),t.isClosing=!1;})),this.currentImage=null,this.isOpen=!1,this.isAnimating=!1,this.controlCoordinates)this.controlCoordinates[o]=0;this.controlCoordinates.mousedown=!1,this.controlCoordinates.zoomed=!1,this.controlCoordinates.capture=!1,this.controlCoordinates.initialScale=this.minMax(1,1,this.options.maxZoom),this.controlCoordinates.doubleTapped=!1;}},{key:"hash",get:function(){return window.location.hash.substring(1);}},{key:"preload",value:function(){var t=this,e=this.currentImageIndex,o=this.relatedElements.length,i=e+1<0?o-1:e+1>=o-1?0:e+1,n=e-1<0?o-1:e-1>=o-1?0:e-1,s=new Image(),a=new Image();s.addEventListener("load",(function(o){var i=o.target.getAttribute("src");-1===t.loadedImages.indexOf(i)&&t.loadedImages.push(i),t.relatedElements[e].dispatchEvent(new Event("nextImageLoaded."+t.eventNamespace));})),s.setAttribute("src",this.relatedElements[i].getAttribute(this.options.sourceAttr)),a.addEventListener("load",(function(o){var i=o.target.getAttribute("src");-1===t.loadedImages.indexOf(i)&&t.loadedImages.push(i),t.relatedElements[e].dispatchEvent(new Event("prevImageLoaded."+t.eventNamespace));})),a.setAttribute("src",this.relatedElements[n].getAttribute(this.options.sourceAttr));}},{key:"loadImage",value:function(t){var e=this,o=t;this.options.rtl&&(t=-t),this.relatedElements[this.currentImageIndex].dispatchEvent(new Event("change."+this.eventNamespace)),this.relatedElements[this.currentImageIndex].dispatchEvent(new Event((1===t?"next":"prev")+"."+this.eventNamespace));var i=this.currentImageIndex+t;if(this.isAnimating||(i<0||i>=this.relatedElements.length)&&!1===this.options.loop)return !1;this.currentImageIndex=i<0?this.relatedElements.length-1:i>this.relatedElements.length-1?0:i,this.domNodes.counter.querySelector(".sl-current").innerHTML=this.currentImageIndex+1,this.options.animationSlide&&this.slide(this.options.animationSpeed/1e3,-100*o-this.controlCoordinates.swipeDiff+"px"),this.fadeOut(this.domNodes.image,this.options.fadeSpeed,(function(){e.isAnimating=!0,e.isClosing?e.isAnimating=!1:setTimeout((function(){var t=e.relatedElements[e.currentImageIndex];e.currentImage.setAttribute("src",t.getAttribute(e.options.sourceAttr)),-1===e.loadedImages.indexOf(t.getAttribute(e.options.sourceAttr))&&e.show(e.domNodes.spinner),e.domNodes.image.contains(e.domNodes.caption)&&e.domNodes.image.removeChild(e.domNodes.caption),e.adjustImage(o),e.options.preloading&&e.preload();}),100);}));}},{key:"adjustImage",value:function(t){var e=this;if(!this.currentImage)return !1;var o=new Image(),i=window.innerWidth*this.options.widthRatio,n=window.innerHeight*this.options.heightRatio;o.setAttribute("src",this.currentImage.getAttribute("src")),this.currentImage.dataset.scale=1,this.currentImage.dataset.translateX=0,this.currentImage.dataset.translateY=0,this.zoomPanElement(0,0,1),o.addEventListener("error",(function(o){e.relatedElements[e.currentImageIndex].dispatchEvent(new Event("error."+e.eventNamespace)),e.isAnimating=!1,e.isOpen=!0,e.domNodes.spinner.style.display="none";var i=1===t||-1===t;if(e.initialImageIndex===e.currentImageIndex&&i)return e.close();e.options.alertError&&alert(e.options.alertErrorMessage),e.loadImage(i?t:1);})),o.addEventListener("load",(function(o){void 0!==t&&(e.relatedElements[e.currentImageIndex].dispatchEvent(new Event("changed."+e.eventNamespace)),e.relatedElements[e.currentImageIndex].dispatchEvent(new Event((1===t?"nextDone":"prevDone")+"."+e.eventNamespace))),e.options.history&&e.updateURL(),-1===e.loadedImages.indexOf(e.currentImage.getAttribute("src"))&&e.loadedImages.push(e.currentImage.getAttribute("src"));var s,a,r=o.target.width,l=o.target.height;if(e.options.scaleImageToRatio||r>i||l>n){var d=r/l>i/n?r/i:l/n;r/=d,l/=d;}e.domNodes.image.style.top=(window.innerHeight-l)/2+"px",e.domNodes.image.style.left=(window.innerWidth-r-e.globalScrollbarWidth)/2+"px",e.domNodes.image.style.width=r+"px",e.domNodes.image.style.height=l+"px",e.domNodes.spinner.style.display="none",e.options.focus&&e.forceFocus(),e.fadeIn(e.currentImage,e.options.fadeSpeed,(function(){e.options.focus&&e.domNodes.wrapper.focus();})),e.isOpen=!0,"string"==typeof e.options.captionSelector?s="self"===e.options.captionSelector?e.relatedElements[e.currentImageIndex]:e.relatedElements[e.currentImageIndex].querySelector(e.options.captionSelector):"function"==typeof e.options.captionSelector&&(s=e.options.captionSelector(e.relatedElements[e.currentImageIndex])),e.options.captions&&s&&(a="data"===e.options.captionType?s.dataset[e.options.captionsData]:"text"===e.options.captionType?s.innerHTML:s.getAttribute(e.options.captionsData)),e.options.loop?1===e.relatedElements.length?e.hide(e.domNodes.navigation.querySelectorAll(".sl-prev, .sl-next")):e.show(e.domNodes.navigation.querySelectorAll(".sl-prev, .sl-next")):(0===e.currentImageIndex&&e.hide(e.domNodes.navigation.querySelector(".sl-prev")),e.currentImageIndex>=e.relatedElements.length-1&&e.hide(e.domNodes.navigation.querySelector(".sl-next")),e.currentImageIndex>0&&e.show(e.domNodes.navigation.querySelector(".sl-prev")),e.currentImageIndex<e.relatedElements.length-1&&e.show(e.domNodes.navigation.querySelector(".sl-next"))),1===t||-1===t?(e.options.animationSlide&&(e.slide(0,100*t+"px"),setTimeout((function(){e.slide(e.options.animationSpeed/1e3,"0px");}),50)),e.fadeIn(e.domNodes.image,e.options.fadeSpeed,(function(){e.isAnimating=!1,e.setCaption(a,r);}))):(e.isAnimating=!1,e.setCaption(a,r)),e.options.additionalHtml&&!e.domNodes.additionalHtml&&(e.domNodes.additionalHtml=document.createElement("div"),e.domNodes.additionalHtml.classList.add("sl-additional-html"),e.domNodes.additionalHtml.innerHTML=e.options.additionalHtml,e.domNodes.image.appendChild(e.domNodes.additionalHtml));}));}},{key:"zoomPanElement",value:function(t,e,o){this.currentImage.style[this.transitionPrefix+"transform"]="translate("+t+","+e+") scale("+o+")";}},{key:"minMax",value:function(t,e,o){return t<e?e:t>o?o:t;}},{key:"setZoomData",value:function(t,e,o){this.currentImage.dataset.scale=t,this.currentImage.dataset.translateX=e,this.currentImage.dataset.translateY=o;}},{key:"hashchangeHandler",value:function(){this.isOpen&&this.hash===this.initialLocationHash&&(this.hashReseted=!0,this.close());}},{key:"addEvents",value:function(){var t=this;if(this.addEventListener(window,"resize."+this.eventNamespace,(function(e){t.isOpen&&t.adjustImage();})),this.addEventListener(this.domNodes.closeButton,["click."+this.eventNamespace,"touchstart."+this.eventNamespace],this.close.bind(this)),this.options.history&&setTimeout((function(){t.addEventListener(window,"hashchange."+t.eventNamespace,(function(e){t.isOpen&&t.hashchangeHandler();}));}),40),this.addEventListener(this.domNodes.navigation.getElementsByTagName("button"),"click."+this.eventNamespace,(function(e){if(!e.currentTarget.tagName.match(/button/i))return !0;e.preventDefault(),t.controlCoordinates.swipeDiff=0,t.loadImage(e.currentTarget.classList.contains("sl-next")?1:-1);})),this.options.scrollZoom){var e=1;this.addEventListener(this.domNodes.image,["mousewheel","DOMMouseScroll"],(function(o){if(t.controlCoordinates.mousedown||t.isAnimating||t.isClosing||!t.isOpen)return !0;0==t.controlCoordinates.containerHeight&&(t.controlCoordinates.containerHeight=t.getDimensions(t.domNodes.image).height,t.controlCoordinates.containerWidth=t.getDimensions(t.domNodes.image).width,t.controlCoordinates.imgHeight=t.getDimensions(t.currentImage).height,t.controlCoordinates.imgWidth=t.getDimensions(t.currentImage).width,t.controlCoordinates.containerOffsetX=t.domNodes.image.offsetLeft,t.controlCoordinates.containerOffsetY=t.domNodes.image.offsetTop,t.controlCoordinates.initialOffsetX=parseFloat(t.currentImage.dataset.translateX),t.controlCoordinates.initialOffsetY=parseFloat(t.currentImage.dataset.translateY)),o.preventDefault();var i=o.delta||o.wheelDelta;void 0===i&&(i=o.detail),i=Math.max(-1,Math.min(1,i)),e+=i*t.options.scrollZoomFactor*e,e=Math.max(1,Math.min(t.options.maxZoom,e)),t.controlCoordinates.targetScale=e,t.controlCoordinates.pinchOffsetX=o.pageX,t.controlCoordinates.pinchOffsetY=o.pageY,t.controlCoordinates.limitOffsetX=(t.controlCoordinates.imgWidth*t.controlCoordinates.targetScale-t.controlCoordinates.containerWidth)/2,t.controlCoordinates.limitOffsetY=(t.controlCoordinates.imgHeight*t.controlCoordinates.targetScale-t.controlCoordinates.containerHeight)/2,t.controlCoordinates.scaleDifference=t.controlCoordinates.targetScale-t.controlCoordinates.initialScale,t.controlCoordinates.targetOffsetX=t.controlCoordinates.imgWidth*t.controlCoordinates.targetScale<=t.controlCoordinates.containerWidth?0:t.minMax(t.controlCoordinates.initialOffsetX-(t.controlCoordinates.pinchOffsetX-t.controlCoordinates.containerOffsetX-t.controlCoordinates.containerWidth/2-t.controlCoordinates.initialOffsetX)/(t.controlCoordinates.targetScale-t.controlCoordinates.scaleDifference)*t.controlCoordinates.scaleDifference,-1*t.controlCoordinates.limitOffsetX,t.controlCoordinates.limitOffsetX),t.controlCoordinates.targetOffsetY=t.controlCoordinates.imgHeight*t.controlCoordinates.targetScale<=t.controlCoordinates.containerHeight?0:t.minMax(t.controlCoordinates.initialOffsetY-(t.controlCoordinates.pinchOffsetY-t.controlCoordinates.containerOffsetY-t.controlCoordinates.containerHeight/2-t.controlCoordinates.initialOffsetY)/(t.controlCoordinates.targetScale-t.controlCoordinates.scaleDifference)*t.controlCoordinates.scaleDifference,-1*t.controlCoordinates.limitOffsetY,t.controlCoordinates.limitOffsetY),t.zoomPanElement(t.controlCoordinates.targetOffsetX+"px",t.controlCoordinates.targetOffsetY+"px",t.controlCoordinates.targetScale),t.controlCoordinates.targetScale>1?(t.controlCoordinates.zoomed=!0,t.domNodes.caption.style.opacity||"none"===t.domNodes.caption.style.display||t.fadeOut(t.domNodes.caption,t.options.fadeSpeed)):(1===t.controlCoordinates.initialScale&&(t.controlCoordinates.zoomed=!1,"none"===t.domNodes.caption.style.display&&t.fadeIn(t.domNodes.caption,t.options.fadeSpeed)),t.controlCoordinates.initialPinchDistance=null,t.controlCoordinates.capture=!1),t.controlCoordinates.initialPinchDistance=t.controlCoordinates.targetPinchDistance,t.controlCoordinates.initialScale=t.controlCoordinates.targetScale,t.controlCoordinates.initialOffsetX=t.controlCoordinates.targetOffsetX,t.controlCoordinates.initialOffsetY=t.controlCoordinates.targetOffsetY,t.setZoomData(t.controlCoordinates.targetScale,t.controlCoordinates.targetOffsetX,t.controlCoordinates.targetOffsetY),t.zoomPanElement(t.controlCoordinates.targetOffsetX+"px",t.controlCoordinates.targetOffsetY+"px",t.controlCoordinates.targetScale);}));}this.addEventListener(this.domNodes.image,["touchstart."+this.eventNamespace,"mousedown."+this.eventNamespace],(function(e){if("A"===e.target.tagName&&"touchstart"===e.type)return !0;if("mousedown"===e.type)e.preventDefault(),t.controlCoordinates.initialPointerOffsetX=e.clientX,t.controlCoordinates.initialPointerOffsetY=e.clientY,t.controlCoordinates.containerHeight=t.getDimensions(t.domNodes.image).height,t.controlCoordinates.containerWidth=t.getDimensions(t.domNodes.image).width,t.controlCoordinates.imgHeight=t.getDimensions(t.currentImage).height,t.controlCoordinates.imgWidth=t.getDimensions(t.currentImage).width,t.controlCoordinates.containerOffsetX=t.domNodes.image.offsetLeft,t.controlCoordinates.containerOffsetY=t.domNodes.image.offsetTop,t.controlCoordinates.initialOffsetX=parseFloat(t.currentImage.dataset.translateX),t.controlCoordinates.initialOffsetY=parseFloat(t.currentImage.dataset.translateY),t.controlCoordinates.capture=!0;else{if(t.controlCoordinates.touchCount=e.touches.length,t.controlCoordinates.initialPointerOffsetX=e.touches[0].clientX,t.controlCoordinates.initialPointerOffsetY=e.touches[0].clientY,t.controlCoordinates.containerHeight=t.getDimensions(t.domNodes.image).height,t.controlCoordinates.containerWidth=t.getDimensions(t.domNodes.image).width,t.controlCoordinates.imgHeight=t.getDimensions(t.currentImage).height,t.controlCoordinates.imgWidth=t.getDimensions(t.currentImage).width,t.controlCoordinates.containerOffsetX=t.domNodes.image.offsetLeft,t.controlCoordinates.containerOffsetY=t.domNodes.image.offsetTop,1===t.controlCoordinates.touchCount){if(t.controlCoordinates.doubleTapped)return t.currentImage.classList.add("sl-transition"),t.controlCoordinates.zoomed?(t.controlCoordinates.initialScale=1,t.setZoomData(t.controlCoordinates.initialScale,0,0),t.zoomPanElement("0px","0px",t.controlCoordinates.initialScale),t.controlCoordinates.zoomed=!1):(t.controlCoordinates.initialScale=t.options.doubleTapZoom,t.setZoomData(t.controlCoordinates.initialScale,0,0),t.zoomPanElement("0px","0px",t.controlCoordinates.initialScale),t.domNodes.caption.style.opacity||"none"===t.domNodes.caption.style.display||t.fadeOut(t.domNodes.caption,t.options.fadeSpeed),t.controlCoordinates.zoomed=!0),setTimeout((function(){t.currentImage&&t.currentImage.classList.remove("sl-transition");}),200),!1;t.controlCoordinates.doubleTapped=!0,setTimeout((function(){t.controlCoordinates.doubleTapped=!1;}),300),t.controlCoordinates.initialOffsetX=parseFloat(t.currentImage.dataset.translateX),t.controlCoordinates.initialOffsetY=parseFloat(t.currentImage.dataset.translateY);}else 2===t.controlCoordinates.touchCount&&(t.controlCoordinates.initialPointerOffsetX2=e.touches[1].clientX,t.controlCoordinates.initialPointerOffsetY2=e.touches[1].clientY,t.controlCoordinates.initialOffsetX=parseFloat(t.currentImage.dataset.translateX),t.controlCoordinates.initialOffsetY=parseFloat(t.currentImage.dataset.translateY),t.controlCoordinates.pinchOffsetX=(t.controlCoordinates.initialPointerOffsetX+t.controlCoordinates.initialPointerOffsetX2)/2,t.controlCoordinates.pinchOffsetY=(t.controlCoordinates.initialPointerOffsetY+t.controlCoordinates.initialPointerOffsetY2)/2,t.controlCoordinates.initialPinchDistance=Math.sqrt((t.controlCoordinates.initialPointerOffsetX-t.controlCoordinates.initialPointerOffsetX2)*(t.controlCoordinates.initialPointerOffsetX-t.controlCoordinates.initialPointerOffsetX2)+(t.controlCoordinates.initialPointerOffsetY-t.controlCoordinates.initialPointerOffsetY2)*(t.controlCoordinates.initialPointerOffsetY-t.controlCoordinates.initialPointerOffsetY2)));t.controlCoordinates.capture=!0;}return !!t.controlCoordinates.mousedown||(t.transitionCapable&&(t.controlCoordinates.imageLeft=parseInt(t.domNodes.image.style.left,10)),t.controlCoordinates.mousedown=!0,t.controlCoordinates.swipeDiff=0,t.controlCoordinates.swipeYDiff=0,t.controlCoordinates.swipeStart=e.pageX||e.touches[0].pageX,t.controlCoordinates.swipeYStart=e.pageY||e.touches[0].pageY,!1);})),this.addEventListener(this.domNodes.image,["touchmove."+this.eventNamespace,"mousemove."+this.eventNamespace,"MSPointerMove"],(function(e){if(!t.controlCoordinates.mousedown)return !0;if("touchmove"===e.type){if(!1===t.controlCoordinates.capture)return !1;t.controlCoordinates.pointerOffsetX=e.touches[0].clientX,t.controlCoordinates.pointerOffsetY=e.touches[0].clientY,t.controlCoordinates.touchCount=e.touches.length,t.controlCoordinates.touchmoveCount++,t.controlCoordinates.touchCount>1?(t.controlCoordinates.pointerOffsetX2=e.touches[1].clientX,t.controlCoordinates.pointerOffsetY2=e.touches[1].clientY,t.controlCoordinates.targetPinchDistance=Math.sqrt((t.controlCoordinates.pointerOffsetX-t.controlCoordinates.pointerOffsetX2)*(t.controlCoordinates.pointerOffsetX-t.controlCoordinates.pointerOffsetX2)+(t.controlCoordinates.pointerOffsetY-t.controlCoordinates.pointerOffsetY2)*(t.controlCoordinates.pointerOffsetY-t.controlCoordinates.pointerOffsetY2)),null===t.controlCoordinates.initialPinchDistance&&(t.controlCoordinates.initialPinchDistance=t.controlCoordinates.targetPinchDistance),Math.abs(t.controlCoordinates.initialPinchDistance-t.controlCoordinates.targetPinchDistance)>=1&&(t.controlCoordinates.targetScale=t.minMax(t.controlCoordinates.targetPinchDistance/t.controlCoordinates.initialPinchDistance*t.controlCoordinates.initialScale,1,t.options.maxZoom),t.controlCoordinates.limitOffsetX=(t.controlCoordinates.imgWidth*t.controlCoordinates.targetScale-t.controlCoordinates.containerWidth)/2,t.controlCoordinates.limitOffsetY=(t.controlCoordinates.imgHeight*t.controlCoordinates.targetScale-t.controlCoordinates.containerHeight)/2,t.controlCoordinates.scaleDifference=t.controlCoordinates.targetScale-t.controlCoordinates.initialScale,t.controlCoordinates.targetOffsetX=t.controlCoordinates.imgWidth*t.controlCoordinates.targetScale<=t.controlCoordinates.containerWidth?0:t.minMax(t.controlCoordinates.initialOffsetX-(t.controlCoordinates.pinchOffsetX-t.controlCoordinates.containerOffsetX-t.controlCoordinates.containerWidth/2-t.controlCoordinates.initialOffsetX)/(t.controlCoordinates.targetScale-t.controlCoordinates.scaleDifference)*t.controlCoordinates.scaleDifference,-1*t.controlCoordinates.limitOffsetX,t.controlCoordinates.limitOffsetX),t.controlCoordinates.targetOffsetY=t.controlCoordinates.imgHeight*t.controlCoordinates.targetScale<=t.controlCoordinates.containerHeight?0:t.minMax(t.controlCoordinates.initialOffsetY-(t.controlCoordinates.pinchOffsetY-t.controlCoordinates.containerOffsetY-t.controlCoordinates.containerHeight/2-t.controlCoordinates.initialOffsetY)/(t.controlCoordinates.targetScale-t.controlCoordinates.scaleDifference)*t.controlCoordinates.scaleDifference,-1*t.controlCoordinates.limitOffsetY,t.controlCoordinates.limitOffsetY),t.zoomPanElement(t.controlCoordinates.targetOffsetX+"px",t.controlCoordinates.targetOffsetY+"px",t.controlCoordinates.targetScale),t.controlCoordinates.targetScale>1&&(t.controlCoordinates.zoomed=!0,t.domNodes.caption.style.opacity||"none"===t.domNodes.caption.style.display||t.fadeOut(t.domNodes.caption,t.options.fadeSpeed)),t.controlCoordinates.initialPinchDistance=t.controlCoordinates.targetPinchDistance,t.controlCoordinates.initialScale=t.controlCoordinates.targetScale,t.controlCoordinates.initialOffsetX=t.controlCoordinates.targetOffsetX,t.controlCoordinates.initialOffsetY=t.controlCoordinates.targetOffsetY)):(t.controlCoordinates.targetScale=t.controlCoordinates.initialScale,t.controlCoordinates.limitOffsetX=(t.controlCoordinates.imgWidth*t.controlCoordinates.targetScale-t.controlCoordinates.containerWidth)/2,t.controlCoordinates.limitOffsetY=(t.controlCoordinates.imgHeight*t.controlCoordinates.targetScale-t.controlCoordinates.containerHeight)/2,t.controlCoordinates.targetOffsetX=t.controlCoordinates.imgWidth*t.controlCoordinates.targetScale<=t.controlCoordinates.containerWidth?0:t.minMax(t.controlCoordinates.pointerOffsetX-(t.controlCoordinates.initialPointerOffsetX-t.controlCoordinates.initialOffsetX),-1*t.controlCoordinates.limitOffsetX,t.controlCoordinates.limitOffsetX),t.controlCoordinates.targetOffsetY=t.controlCoordinates.imgHeight*t.controlCoordinates.targetScale<=t.controlCoordinates.containerHeight?0:t.minMax(t.controlCoordinates.pointerOffsetY-(t.controlCoordinates.initialPointerOffsetY-t.controlCoordinates.initialOffsetY),-1*t.controlCoordinates.limitOffsetY,t.controlCoordinates.limitOffsetY),Math.abs(t.controlCoordinates.targetOffsetX)===Math.abs(t.controlCoordinates.limitOffsetX)&&(t.controlCoordinates.initialOffsetX=t.controlCoordinates.targetOffsetX,t.controlCoordinates.initialPointerOffsetX=t.controlCoordinates.pointerOffsetX),Math.abs(t.controlCoordinates.targetOffsetY)===Math.abs(t.controlCoordinates.limitOffsetY)&&(t.controlCoordinates.initialOffsetY=t.controlCoordinates.targetOffsetY,t.controlCoordinates.initialPointerOffsetY=t.controlCoordinates.pointerOffsetY),t.setZoomData(t.controlCoordinates.initialScale,t.controlCoordinates.targetOffsetX,t.controlCoordinates.targetOffsetY),t.zoomPanElement(t.controlCoordinates.targetOffsetX+"px",t.controlCoordinates.targetOffsetY+"px",t.controlCoordinates.targetScale));}if("mousemove"===e.type&&t.controlCoordinates.mousedown){if("touchmove"==e.type)return !0;if(e.preventDefault(),!1===t.controlCoordinates.capture)return !1;t.controlCoordinates.pointerOffsetX=e.clientX,t.controlCoordinates.pointerOffsetY=e.clientY,t.controlCoordinates.targetScale=t.controlCoordinates.initialScale,t.controlCoordinates.limitOffsetX=(t.controlCoordinates.imgWidth*t.controlCoordinates.targetScale-t.controlCoordinates.containerWidth)/2,t.controlCoordinates.limitOffsetY=(t.controlCoordinates.imgHeight*t.controlCoordinates.targetScale-t.controlCoordinates.containerHeight)/2,t.controlCoordinates.targetOffsetX=t.controlCoordinates.imgWidth*t.controlCoordinates.targetScale<=t.controlCoordinates.containerWidth?0:t.minMax(t.controlCoordinates.pointerOffsetX-(t.controlCoordinates.initialPointerOffsetX-t.controlCoordinates.initialOffsetX),-1*t.controlCoordinates.limitOffsetX,t.controlCoordinates.limitOffsetX),t.controlCoordinates.targetOffsetY=t.controlCoordinates.imgHeight*t.controlCoordinates.targetScale<=t.controlCoordinates.containerHeight?0:t.minMax(t.controlCoordinates.pointerOffsetY-(t.controlCoordinates.initialPointerOffsetY-t.controlCoordinates.initialOffsetY),-1*t.controlCoordinates.limitOffsetY,t.controlCoordinates.limitOffsetY),Math.abs(t.controlCoordinates.targetOffsetX)===Math.abs(t.controlCoordinates.limitOffsetX)&&(t.controlCoordinates.initialOffsetX=t.controlCoordinates.targetOffsetX,t.controlCoordinates.initialPointerOffsetX=t.controlCoordinates.pointerOffsetX),Math.abs(t.controlCoordinates.targetOffsetY)===Math.abs(t.controlCoordinates.limitOffsetY)&&(t.controlCoordinates.initialOffsetY=t.controlCoordinates.targetOffsetY,t.controlCoordinates.initialPointerOffsetY=t.controlCoordinates.pointerOffsetY),t.setZoomData(t.controlCoordinates.initialScale,t.controlCoordinates.targetOffsetX,t.controlCoordinates.targetOffsetY),t.zoomPanElement(t.controlCoordinates.targetOffsetX+"px",t.controlCoordinates.targetOffsetY+"px",t.controlCoordinates.targetScale);}t.controlCoordinates.zoomed||(t.controlCoordinates.swipeEnd=e.pageX||e.touches[0].pageX,t.controlCoordinates.swipeYEnd=e.pageY||e.touches[0].pageY,t.controlCoordinates.swipeDiff=t.controlCoordinates.swipeStart-t.controlCoordinates.swipeEnd,t.controlCoordinates.swipeYDiff=t.controlCoordinates.swipeYStart-t.controlCoordinates.swipeYEnd,t.options.animationSlide&&t.slide(0,-t.controlCoordinates.swipeDiff+"px"));})),this.addEventListener(this.domNodes.image,["touchend."+this.eventNamespace,"mouseup."+this.eventNamespace,"touchcancel."+this.eventNamespace,"mouseleave."+this.eventNamespace,"pointerup","pointercancel","MSPointerUp","MSPointerCancel"],(function(e){if(t.isTouchDevice&&"touchend"===e.type&&(t.controlCoordinates.touchCount=e.touches.length,0===t.controlCoordinates.touchCount?(t.currentImage&&t.setZoomData(t.controlCoordinates.initialScale,t.controlCoordinates.targetOffsetX,t.controlCoordinates.targetOffsetY),1===t.controlCoordinates.initialScale&&(t.controlCoordinates.zoomed=!1,"none"===t.domNodes.caption.style.display&&t.fadeIn(t.domNodes.caption,t.options.fadeSpeed)),t.controlCoordinates.initialPinchDistance=null,t.controlCoordinates.capture=!1):1===t.controlCoordinates.touchCount?(t.controlCoordinates.initialPointerOffsetX=e.touches[0].clientX,t.controlCoordinates.initialPointerOffsetY=e.touches[0].clientY):t.controlCoordinates.touchCount>1&&(t.controlCoordinates.initialPinchDistance=null)),t.controlCoordinates.mousedown){t.controlCoordinates.mousedown=!1;var o=!0;t.options.loop||(0===t.currentImageIndex&&t.controlCoordinates.swipeDiff<0&&(o=!1),t.currentImageIndex>=t.relatedElements.length-1&&t.controlCoordinates.swipeDiff>0&&(o=!1)),Math.abs(t.controlCoordinates.swipeDiff)>t.options.swipeTolerance&&o?t.loadImage(t.controlCoordinates.swipeDiff>0?1:-1):t.options.animationSlide&&t.slide(t.options.animationSpeed/1e3,"0px"),t.options.swipeClose&&Math.abs(t.controlCoordinates.swipeYDiff)>50&&Math.abs(t.controlCoordinates.swipeDiff)<t.options.swipeTolerance&&t.close();}})),this.addEventListener(this.domNodes.image,["dblclick"],(function(e){if(!t.isTouchDevice)return t.controlCoordinates.initialPointerOffsetX=e.clientX,t.controlCoordinates.initialPointerOffsetY=e.clientY,t.controlCoordinates.containerHeight=t.getDimensions(t.domNodes.image).height,t.controlCoordinates.containerWidth=t.getDimensions(t.domNodes.image).width,t.controlCoordinates.imgHeight=t.getDimensions(t.currentImage).height,t.controlCoordinates.imgWidth=t.getDimensions(t.currentImage).width,t.controlCoordinates.containerOffsetX=t.domNodes.image.offsetLeft,t.controlCoordinates.containerOffsetY=t.domNodes.image.offsetTop,t.currentImage.classList.add("sl-transition"),t.controlCoordinates.zoomed?(t.controlCoordinates.initialScale=1,t.setZoomData(t.controlCoordinates.initialScale,0,0),t.zoomPanElement("0px","0px",t.controlCoordinates.initialScale),t.controlCoordinates.zoomed=!1,"none"===t.domNodes.caption.style.display&&t.fadeIn(t.domNodes.caption,t.options.fadeSpeed)):(t.controlCoordinates.initialScale=t.options.doubleTapZoom,t.setZoomData(t.controlCoordinates.initialScale,0,0),t.zoomPanElement("0px","0px",t.controlCoordinates.initialScale),t.domNodes.caption.style.opacity||"none"===t.domNodes.caption.style.display||t.fadeOut(t.domNodes.caption,t.options.fadeSpeed),t.controlCoordinates.zoomed=!0),setTimeout((function(){t.currentImage&&(t.currentImage.classList.remove("sl-transition"),t.currentImage.style[t.transitionPrefix+"transform-origin"]=null);}),200),t.controlCoordinates.capture=!0,!1;}));}},{key:"getDimensions",value:function(t){var e=window.getComputedStyle(t),o=t.offsetHeight,i=t.offsetWidth,n=parseFloat(e.borderTopWidth);return {height:o-parseFloat(e.borderBottomWidth)-n-parseFloat(e.paddingTop)-parseFloat(e.paddingBottom),width:i-parseFloat(e.borderLeftWidth)-parseFloat(e.borderRightWidth)-parseFloat(e.paddingLeft)-parseFloat(e.paddingRight)};}},{key:"updateHash",value:function(){var t="pid="+(this.currentImageIndex+1),e=window.location.href.split("#")[0]+"#"+t;this.hashReseted=!1,this.pushStateSupport?window.history[this.historyHasChanges?"replaceState":"pushState"]("",document.title,e):this.historyHasChanges?window.location.replace(e):window.location.hash=t,this.historyHasChanges||(this.urlChangedOnce=!0),this.historyHasChanges=!0;}},{key:"resetHash",value:function(){this.hashReseted=!0,this.urlChangedOnce?history.back():this.pushStateSupport?history.pushState("",document.title,window.location.pathname+window.location.search):window.location.hash="",clearTimeout(this.historyUpdateTimeout);}},{key:"updateURL",value:function(){clearTimeout(this.historyUpdateTimeout),this.historyHasChanges?this.historyUpdateTimeout=setTimeout(this.updateHash.bind(this),800):this.updateHash();}},{key:"setCaption",value:function(t,e){var o=this;this.options.captions&&t&&""!==t&&void 0!==t&&(this.hide(this.domNodes.caption),this.domNodes.caption.style.width=e+"px",this.domNodes.caption.innerHTML=t,this.domNodes.image.appendChild(this.domNodes.caption),setTimeout((function(){o.fadeIn(o.domNodes.caption,o.options.fadeSpeed);}),this.options.captionDelay));}},{key:"slide",value:function(t,e){if(!this.transitionCapable)return this.domNodes.image.style.left=e;this.domNodes.image.style[this.transitionPrefix+"transform"]="translateX("+e+")",this.domNodes.image.style[this.transitionPrefix+"transition"]=this.transitionPrefix+"transform "+t+"s linear";}},{key:"getRelated",value:function(t){return t&&!1!==t&&"nofollow"!==t?Array.from(this.elements).filter((function(e){return e.getAttribute("rel")===t;})):this.elements;}},{key:"openImage",value:function(t){var e=this;t.dispatchEvent(new Event("show."+this.eventNamespace)),this.options.disableScroll&&(this.globalScrollbarWidth=this.toggleScrollbar("hide")),this.options.htmlClass&&""!==this.options.htmlClass&&document.querySelector("html").classList.add(this.options.htmlClass),document.body.appendChild(this.domNodes.wrapper),this.domNodes.wrapper.appendChild(this.domNodes.image),this.options.overlay&&document.body.appendChild(this.domNodes.overlay),this.relatedElements=this.getRelated(t.rel),this.options.showCounter&&(1==this.relatedElements.length&&this.domNodes.wrapper.contains(this.domNodes.counter)?this.domNodes.wrapper.removeChild(this.domNodes.counter):this.relatedElements.length>1&&!this.domNodes.wrapper.contains(this.domNodes.counter)&&this.domNodes.wrapper.appendChild(this.domNodes.counter)),this.isAnimating=!0,this.currentImageIndex=this.relatedElements.indexOf(t);var o=t.getAttribute(this.options.sourceAttr);this.currentImage=document.createElement("img"),this.currentImage.style.display="none",this.currentImage.setAttribute("src",o),this.currentImage.dataset.scale=1,this.currentImage.dataset.translateX=0,this.currentImage.dataset.translateY=0,-1===this.loadedImages.indexOf(o)&&this.loadedImages.push(o),this.domNodes.image.innerHTML="",this.domNodes.image.setAttribute("style",""),this.domNodes.image.appendChild(this.currentImage),this.fadeIn(this.domNodes.overlay,this.options.fadeSpeed),this.fadeIn([this.domNodes.counter,this.domNodes.navigation,this.domNodes.closeButton],this.options.fadeSpeed),this.show(this.domNodes.spinner),this.domNodes.counter.querySelector(".sl-current").innerHTML=this.currentImageIndex+1,this.domNodes.counter.querySelector(".sl-total").innerHTML=this.relatedElements.length,this.adjustImage(),this.options.preloading&&this.preload(),setTimeout((function(){t.dispatchEvent(new Event("shown."+e.eventNamespace));}),this.options.animationSpeed);}},{key:"forceFocus",value:function(){var t=this;this.removeEventListener(document,"focusin."+this.eventNamespace),this.addEventListener(document,"focusin."+this.eventNamespace,(function(e){document===e.target||t.domNodes.wrapper===e.target||t.domNodes.wrapper.contains(e.target)||t.domNodes.wrapper.focus();}));}},{key:"addEventListener",value:function(t,e,o,s){t=this.wrap(t),e=this.wrap(e);var a,r=n(t);try{for(r.s();!(a=r.n()).done;){var l=a.value;l.namespaces||(l.namespaces={});var d,c=n(e);try{for(c.s();!(d=c.n()).done;){var h=d.value,m=s||!1;["touchstart","touchmove"].indexOf(h.split(".")[0])>=0&&this.isPassiveEventsSupported&&("object"===i(m)?m.passive=!0:m={passive:!0}),l.namespaces[h]=o,l.addEventListener(h.split(".")[0],o,m);}}catch(t){c.e(t);}finally{c.f();}}}catch(t){r.e(t);}finally{r.f();}}},{key:"removeEventListener",value:function(t,e){t=this.wrap(t),e=this.wrap(e);var o,i=n(t);try{for(i.s();!(o=i.n()).done;){var s,a=o.value,r=n(e);try{for(r.s();!(s=r.n()).done;){var l=s.value;a.namespaces&&a.namespaces[l]&&(a.removeEventListener(l.split(".")[0],a.namespaces[l]),delete a.namespaces[l]);}}catch(t){r.e(t);}finally{r.f();}}}catch(t){i.e(t);}finally{i.f();}}},{key:"fadeOut",value:function(t,e,o){var i,s=this,a=n(t=this.wrap(t));try{for(a.s();!(i=a.n()).done;)i.value.style.opacity=1;}catch(t){a.e(t);}finally{a.f();}this.isFadeIn=!1;var r=16.66666/(e||this.options.fadeSpeed);!function e(){var i=parseFloat(t[0].style.opacity);if((i-=r)<0){var a,l=n(t);try{for(l.s();!(a=l.n()).done;){var d=a.value;d.style.display="none",d.style.opacity=1;}}catch(t){l.e(t);}finally{l.f();}o&&o.call(s,t);}else{var c,h=n(t);try{for(h.s();!(c=h.n()).done;)c.value.style.opacity=i;}catch(t){h.e(t);}finally{h.f();}requestAnimationFrame(e);}}();}},{key:"fadeIn",value:function(t,e,o,i){var s,a=this,r=n(t=this.wrap(t));try{for(r.s();!(s=r.n()).done;){var l=s.value;l.style.opacity=0,l.style.display=i||"block";}}catch(t){r.e(t);}finally{r.f();}this.isFadeIn=!0;var d=parseFloat(t[0].dataset.opacityTarget||1),c=16.66666*d/(e||this.options.fadeSpeed);!function e(){var i=parseFloat(t[0].style.opacity);if((i+=c)>d){var s,r=n(t);try{for(r.s();!(s=r.n()).done;)s.value.style.opacity="";}catch(t){r.e(t);}finally{r.f();}o&&o.call(a,t);}else{var l,h=n(t);try{for(h.s();!(l=h.n()).done;)l.value.style.opacity=i;}catch(t){h.e(t);}finally{h.f();}if(!a.isFadeIn)return;requestAnimationFrame(e);}}();}},{key:"hide",value:function(t){var e,o=n(t=this.wrap(t));try{for(o.s();!(e=o.n()).done;){var i=e.value;"none"!=i.style.display&&(i.dataset.initialDisplay=i.style.display),i.style.display="none";}}catch(t){o.e(t);}finally{o.f();}}},{key:"show",value:function(t,e){var o,i=n(t=this.wrap(t));try{for(i.s();!(o=i.n()).done;){var s=o.value;s.style.display=s.dataset.initialDisplay||e||"block";}}catch(t){i.e(t);}finally{i.f();}}},{key:"wrap",value:function(t){return "function"==typeof t[Symbol.iterator]&&"string"!=typeof t?t:[t];}},{key:"on",value:function(t,e){t=this.wrap(t);var o,i=n(this.elements);try{for(i.s();!(o=i.n()).done;){var s=o.value;s.fullyNamespacedEvents||(s.fullyNamespacedEvents={});var a,r=n(t);try{for(r.s();!(a=r.n()).done;){var l=a.value;s.fullyNamespacedEvents[l]=e,s.addEventListener(l,e);}}catch(t){r.e(t);}finally{r.f();}}}catch(t){i.e(t);}finally{i.f();}return this;}},{key:"off",value:function(t){t=this.wrap(t);var e,o=n(this.elements);try{for(o.s();!(e=o.n()).done;){var i,s=e.value,a=n(t);try{for(a.s();!(i=a.n()).done;){var r=i.value;void 0!==s.fullyNamespacedEvents&&r in s.fullyNamespacedEvents&&s.removeEventListener(r,s.fullyNamespacedEvents[r]);}}catch(t){a.e(t);}finally{a.f();}}}catch(t){o.e(t);}finally{o.f();}return this;}},{key:"open",value:function(t){t=t||this.elements[0],"undefined"!=typeof jQuery&&t instanceof jQuery&&(t=t.get(0)),this.initialImageIndex=this.elements.indexOf(t),this.initialImageIndex>-1&&this.openImage(t);}},{key:"next",value:function(){this.loadImage(1);}},{key:"prev",value:function(){this.loadImage(-1);}},{key:"getLighboxData",value:function(){return {currentImageIndex:this.currentImageIndex,currentImage:this.currentImage,globalScrollbarWidth:this.globalScrollbarWidth};}},{key:"destroy",value:function(){this.off(["close."+this.eventNamespace,"closed."+this.eventNamespace,"nextImageLoaded."+this.eventNamespace,"prevImageLoaded."+this.eventNamespace,"change."+this.eventNamespace,"nextDone."+this.eventNamespace,"prevDone."+this.eventNamespace,"error."+this.eventNamespace,"changed."+this.eventNamespace,"next."+this.eventNamespace,"prev."+this.eventNamespace,"show."+this.eventNamespace,"shown."+this.eventNamespace]),this.removeEventListener(this.elements,"click."+this.eventNamespace),this.removeEventListener(document,"focusin."+this.eventNamespace),this.removeEventListener(document.body,"contextmenu."+this.eventNamespace),this.removeEventListener(document.body,"keyup."+this.eventNamespace),this.removeEventListener(this.domNodes.navigation.getElementsByTagName("button"),"click."+this.eventNamespace),this.removeEventListener(this.domNodes.closeButton,"click."+this.eventNamespace),this.removeEventListener(window,"resize."+this.eventNamespace),this.removeEventListener(window,"hashchange."+this.eventNamespace),this.close(),this.isOpen&&(document.body.removeChild(this.domNodes.wrapper),document.body.removeChild(this.domNodes.overlay)),this.elements=null;}},{key:"refresh",value:function(){if(!this.initialSelector)throw "refreshing only works when you initialize using a selector!";var t=this.options,e=this.initialSelector;return this.destroy(),this.constructor(e,t),this;}}],o&&a(e.prototype,o),t;}(),d=l;e.Z=d,o.g.SimpleLightbox=l;}},o={};function i(t){var n=o[t];if(void 0!==n)return n.exports;var s=o[t]={exports:{}};return e[t](s,s.exports,i),s.exports;}i.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")();}catch(t){if("object"==typeof window)return window;}}(),t=i(4238),window.Drupal.behaviors.galleryLightbox={attach:function(e){return once("gallery-lightbox",".lightbox",e).forEach((function(e){var o=e.getAttribute("data-gallery");new t.Z('.lightbox[data-gallery="'.concat(o,'"] [data-toggle="lightbox"]'),{}),e.querySelectorAll(".frontend-editing-actions").forEach((function(t){t.addEventListener("click",(function(t){return t.stopPropagation();}));}));}));}};})();;
(self.webpackChunk_dxp_quartz=self.webpackChunk_dxp_quartz||[]).push([[603,372],{3611:function(t,n,o){t.exports=o.p+"quartz.css"},4030:function(t,n,o){"use strict";o.d(n,{w:function(){return e}});var a=o(7220);o(3611);class e extends a.oi{static get baseStyles(){var t;const n=null!==(t=window.quartzBaseStylesPath)&&void 0!==t?t:"quartz.css";return a.dy`<link rel="stylesheet" href="${n}" />`}static get styles(){return[]}render(){return a.dy`<slot></slot>`}}},3543:function(t,n,o){"use strict";var a=o(7220),e=o(5471),i=o(4030),r=function(t,n,o,a){var e,i=arguments.length,r=i<3?n:null===a?a=Object.getOwnPropertyDescriptor(n,o):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,n,o,a);else for(var c=t.length-1;c>=0;c--)(e=t[c])&&(r=(i<3?e(r):i>3?e(n,o,r):e(n,o))||r);return i>3&&r&&Object.defineProperty(n,o,r),r};const c=t=>t?a.dy`<div class="card__date">${t}</div>`:a.dy``,l=t=>t?a.dy`<div class="card__read-time"><span>·</span>${t}</div>`:a.dy``,s=t=>t?a.dy`<div class="card__ribbon">${t}</div>`:a.dy``,d=t=>t?a.dy`<div class="card__group">${t}</div>`:a.dy``,b=t=>t?a.dy`<div class="card__author"><slot name="author"></slot></div>`:a.dy``,p=t=>t?a.dy`<h3 class="card__title">${t}</h3>`:a.dy``,m=t=>t?a.dy`<div class="card__action"><slot name="action"></slot></div>`:a.dy``,g=t=>t?a.dy`<slot name="read-more"><qz-icon color="white" class="p-4" name="arrow-right"></slot>`:a.dy``;let x=class extends i.w{constructor(){super(...arguments),this.author=!1,this.hasAction=!1,this.iconMore=!1}static get styles(){return[a.iv`
        ${(0,a.$m)(':host {\n  display: block;\n}\n\n.card {\n  position: relative;\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  height: 100%;\n  width: 100%;\n  -webkit-box-orient: vertical;\n  -webkit-box-direction: normal;\n      -ms-flex-direction: column;\n          flex-direction: column;\n  overflow: hidden;\n  border-radius: 1.25rem;\n}\n\n.card__content {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-flex: 1;\n      -ms-flex-positive: 1;\n          flex-grow: 1;\n  -webkit-box-orient: vertical;\n  -webkit-box-direction: normal;\n      -ms-flex-direction: column;\n          flex-direction: column;\n  --tw-bg-opacity: 1;\n  background-color: rgb(242 244 245 / var(--tw-bg-opacity));\n  padding: 1.75rem;\n}\n\n.card__group {\n  display: inline-block;\n  padding-right: 0.75rem;\n  padding-bottom: 0.75rem;\n  text-transform: capitalize;\n  --tw-text-opacity: 1;\n  color: rgb(255 115 66 / var(--tw-text-opacity));\n}\n\n.card__date {\n  display: -webkit-inline-box;\n  display: -ms-inline-flexbox;\n  display: inline-flex;\n  -ms-flex-wrap: nowrap;\n      flex-wrap: nowrap;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center;\n}\n\n.card__date qz-icon:first-child, .card__date svg:first-child, .card__date ::slotted([slot="start"]) {\n  margin-right: 0.625rem;\n}\n\n.card__date qz-icon:last-child, .card__date svg:last-child, .card__date ::slotted([slot="end"]) {\n  margin-left: 0.625rem;\n}\n\n.card__read-time {\n  display: -webkit-inline-box;\n  display: -ms-inline-flexbox;\n  display: inline-flex;\n}\n\n.card__read-time span {\n  margin-left: 0.125rem;\n  margin-right: 0.25rem;\n}\n\n.card__action {\n  margin-top: auto;\n  --tw-text-opacity: 1;\n  color: rgb(255 115 66 / var(--tw-text-opacity));\n}\n\n.card__read-more {\n  text-align: right;\n}\n\n.card ::slotted([slot="media"]) {\n  display: block;\n  -o-object-fit: cover;\n     object-fit: cover;\n}\n\n/* no-image variant */\n\n:host([variant="no-image"]) .card {\n  --tw-bg-opacity: 1;\n  background-color: rgb(242 244 245 / var(--tw-bg-opacity));\n  padding-bottom: 1.25rem;\n  --tw-text-opacity: 1;\n  color: rgb(34 34 34 / var(--tw-text-opacity));\n}\n\n:host([variant="no-image"]) .card__date {\n  padding-bottom: 1.25rem;\n  --tw-text-opacity: 1;\n  color: rgb(34 34 34 / var(--tw-text-opacity));\n}\n\n:host([variant="no-image"]) ::slotted([slot="category"]) {\n  margin-left: 2.5rem;\n  margin-right: 2.5rem;\n  margin-top: 1.25rem;\n  margin-bottom: 0px;\n}\n\n/* Variants with an image */\n\n:host(:not([variant="no-image"])) .card__category {\n  position: absolute;\n  top: 0px;\n  left: 0px;\n  z-index: 10;\n}\n\n:host(:not([variant="no-image"])) ::slotted([slot="category"]) {\n  margin: 1.25rem;\n}\n\n/* horizontal */\n\n:host([orientation="horizontal"]) .card {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-orient: horizontal;\n  -webkit-box-direction: normal;\n      -ms-flex-direction: row;\n          flex-direction: row;\n  --tw-bg-opacity: 1;\n  background-color: rgb(255 255 255 / var(--tw-bg-opacity));\n}\n\n:host([orientation="horizontal"]) .card__content {\n  padding: 1.25rem;\n  --tw-text-opacity: 1;\n  color: rgb(25 25 25 / var(--tw-text-opacity));\n}\n\n:host([orientation="horizontal"]) .card__media {\n  min-width: 160px;\n}\n\n/* vertical */\n\n:host([orientation="vertical"]) .card {\n  --tw-bg-opacity: 1;\n  background-color: rgb(255 255 255 / var(--tw-bg-opacity));\n}\n\n:host([orientation="vertical"]) .card__media {\n  -webkit-box-ordinal-group: 3;\n      -ms-flex-order: 2;\n          order: 2;\n}\n\n:host([orientation="vertical"]) .card__content {\n  --tw-bg-opacity: 1;\n  background-color: rgb(255 255 255 / var(--tw-bg-opacity));\n  --tw-text-opacity: 1;\n  color: rgb(25 25 25 / var(--tw-text-opacity));\n}\n\n:host([orientation="vertical"]) ::slotted([slot="action"]), :host([orientation="horizontal"]) ::slotted([slot="action"]) {\n  padding-top: 1.5rem;\n}\n\n/* full-image variant */\n\n:host([variant="full-image"]) {\n  min-height: 25rem;\n}\n\n:host([variant="full-image"]) .card {\n  --tw-text-opacity: 1;\n  color: rgb(255 255 255 / var(--tw-text-opacity));\n}\n\n:host([variant="full-image"]) .card__title {\n  --tw-text-opacity: 1;\n  color: rgb(255 255 255 / var(--tw-text-opacity));\n}\n\n:host([variant="full-image"]) .card__text {\n  display: none;\n}\n\n:host([variant="full-image"]) .card__content:hover .card__text {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n}\n\n:host([variant="full-image"]) .card__content {\n  position: absolute;\n  bottom: 0px;\n  height: 100%;\n  width: 100%;\n  -webkit-box-pack: end;\n      -ms-flex-pack: end;\n          justify-content: flex-end;\n  -webkit-transition-property: color, background-color, border-color, fill, stroke, opacity, -webkit-text-decoration-color, -webkit-box-shadow, -webkit-transform, -webkit-filter, -webkit-backdrop-filter;\n  transition-property: color, background-color, border-color, fill, stroke, opacity, -webkit-text-decoration-color, -webkit-box-shadow, -webkit-transform, -webkit-filter, -webkit-backdrop-filter;\n  transition-property: color, background-color, border-color, text-decoration-color, fill, stroke, opacity, box-shadow, transform, filter, backdrop-filter;\n  transition-property: color, background-color, border-color, text-decoration-color, fill, stroke, opacity, box-shadow, transform, filter, backdrop-filter, -webkit-text-decoration-color, -webkit-box-shadow, -webkit-transform, -webkit-filter, -webkit-backdrop-filter;\n  -webkit-transition-duration: 500ms;\n          transition-duration: 500ms;\n  -webkit-transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);\n          transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);\n  background: -webkit-gradient(linear, left bottom, left top, from(rgba(34, 34, 34, 0.6)), to(rgba(34, 34, 34, 0)));\n  background: linear-gradient(0deg, rgba(34, 34, 34, 0.6) 0%, rgba(34, 34, 34, 0) 100%);\n}\n\n:host([variant="full-image"]) .card__content:hover {\n  -webkit-box-pack: end;\n      -ms-flex-pack: end;\n          justify-content: flex-end;\n  padding-top: 7.5rem;\n  -webkit-transition-property: color, background-color, border-color, fill, stroke, opacity, -webkit-text-decoration-color, -webkit-box-shadow, -webkit-transform, -webkit-filter, -webkit-backdrop-filter;\n  transition-property: color, background-color, border-color, fill, stroke, opacity, -webkit-text-decoration-color, -webkit-box-shadow, -webkit-transform, -webkit-filter, -webkit-backdrop-filter;\n  transition-property: color, background-color, border-color, text-decoration-color, fill, stroke, opacity, box-shadow, transform, filter, backdrop-filter;\n  transition-property: color, background-color, border-color, text-decoration-color, fill, stroke, opacity, box-shadow, transform, filter, backdrop-filter, -webkit-text-decoration-color, -webkit-box-shadow, -webkit-transform, -webkit-filter, -webkit-backdrop-filter;\n  -webkit-transition-duration: 500ms;\n          transition-duration: 500ms;\n  -webkit-transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);\n          transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);\n  background: #FF7342;\n}\n\n:host([variant="full-image"]) ::slotted([slot="read-more"]) {\n  position: absolute;\n  bottom: 0px;\n  right: 0px;\n}\n\n/* compact variant */\n\n:host([variant="compact"]) .card__content {\n  background-color: transparent;\n}\n\n:host([variant="compact"]) .card__date {\n  margin-bottom: 1rem;\n}\n\n:host([variant="compact"]) .card_link-title {}\n\n:host([variant="compact"]) .card_link-title:hover {\n  text-decoration: underline;\n}\n\n:host([variant="compact"]) .card_link-title {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n}\n\n:host([variant="compact"]) .card_link-title-icon {\n  margin-left: 0.625rem;\n}\n\n/* download variant */\n\n:host([variant="download"]) .card__date {\n  padding-bottom: 0.75rem;\n  --tw-text-opacity: 1;\n  color: rgb(255 115 66 / var(--tw-text-opacity));\n}\n\n:host([variant="download"]) .card__media {\n  position: relative;\n  --tw-bg-opacity: 1;\n  background-color: rgb(229 232 236 / var(--tw-bg-opacity));\n}\n\n:host([variant="download"]) .card__content {\n  padding-bottom: 0px;\n}\n\n:host([variant="download"]) ::slotted([slot="read-more"]) {\n  --tw-bg-opacity: 1;\n  background-color: rgb(242 244 245 / var(--tw-bg-opacity));\n}\n\n/* group with icon */\n\n:host([variant="group-with-icon"]) .card__date {\n  padding-bottom: 0.75rem;\n}\n\n:host([variant="group-with-icon"]) ::slotted([slot="read-more"]) {\n  display: block;\n  --tw-bg-opacity: 1;\n  background-color: rgb(242 244 245 / var(--tw-bg-opacity));\n  text-align: right;\n}\n\n:host([variant="group-with-icon"]) .card__author {\n  margin-bottom: 1rem;\n}\n\n:host([variant="group-with-icon"]) .card__ribbon, :host([variant="download"]) .card__ribbon {\n  position: absolute;\n  top: 1rem;\n  left: 0px;\n  z-index: 1;\n  margin-left: 1rem;\n  margin-right: 1rem;\n  border-radius: 1rem;\n  --tw-bg-opacity: 1;\n  background-color: rgb(255 115 66 / var(--tw-bg-opacity));\n  padding-left: 1rem;\n  padding-right: 1rem;\n  padding-top: 0.125rem;\n  text-align: center;\n  font-family: "EuclidCircularB", ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, Noto Sans, sans-serif, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji";\n  font-size: 0.875rem;\n  line-height: 1.5rem;\n  --tw-text-opacity: 1;\n  color: rgb(255 255 255 / var(--tw-text-opacity));\n}\n\n:host([variant="download"]) .card__action {\n  margin-top: 1rem;\n  --tw-text-opacity: 1;\n  color: rgb(0 28 64 / var(--tw-text-opacity));\n}\n\n/* event variant */\n\n:host([variant="event"]) {\n  min-height: 25rem;\n}\n\n:host([variant="event"]) ::slotted([slot="location"]) {\n  margin-bottom: 1rem;\n  margin-top: 0.75rem;\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  font-size: 0.75rem;\n  font-weight: 600;\n  text-transform: uppercase;\n  letter-spacing: 0.1em;\n  --tw-text-opacity: 1;\n  color: rgb(255 115 66 / var(--tw-text-opacity));\n}\n\n:host([variant="event"]) .card__content {\n  --tw-bg-opacity: 1;\n  background-color: rgb(255 255 255 / var(--tw-bg-opacity));\n}\n\n:host([variant="event"]) .card__start-date {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n}\n\n:host([variant="event"]) .card__dates {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  width: 66.666667%;\n  min-width: -webkit-fit-content;\n  min-width: -moz-fit-content;\n  min-width: fit-content;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center;\n  -webkit-box-pack: justify;\n      -ms-flex-pack: justify;\n          justify-content: space-between;\n}\n\n:host([variant="event"]) .card__title {\n  padding-top: 2.25rem;\n  --tw-text-opacity: 1;\n  color: rgb(25 25 25 / var(--tw-text-opacity));\n}\n\n:host([variant="event"]) ::slotted([slot="action"]) {\n  --tw-text-opacity: 1;\n  color: rgb(255 115 66 / var(--tw-text-opacity));\n}\n\n:host([variant="event"]) ::slotted([slot="start-date"]), :host([variant="event"]) ::slotted([slot="end-date"]) {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-orient: vertical;\n  -webkit-box-direction: normal;\n      -ms-flex-direction: column;\n          flex-direction: column;\n  -webkit-box-align: start;\n      -ms-flex-align: start;\n          align-items: flex-start;\n  -webkit-box-pack: center;\n      -ms-flex-pack: center;\n          justify-content: center;\n  font-size: 1.5rem;\n  --tw-text-opacity: 1;\n  color: rgb(255 115 66 / var(--tw-text-opacity));\n}\n\n:host([variant="event"]) ::slotted([slot="separator"]) {\n  font-size: 1.75rem;\n  --tw-text-opacity: 1;\n  color: rgb(255 115 66 / var(--tw-text-opacity));\n}\n\n:host([variant="event"]) ::slotted([slot="organisers"]) {\n  margin-bottom: 1.875rem;\n}\n\n/* icon-text variant */\n\n:host([variant="icon-text"]) ::slotted([slot="read-more"]) {\n  -webkit-box-pack: end;\n      -ms-flex-pack: end;\n          justify-content: flex-end;\n}\n\n:host([variant="icon-text"]) ::slotted([slot="action"]) {\n  margin-top: 1rem;\n  --tw-text-opacity: 1;\n  color: rgb(255 255 255 / var(--tw-text-opacity));\n}\n\n:host([variant="icon-text"]) ::slotted([slot="media"]) {\n  margin-bottom: 1.25rem;\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  height: 3.5rem;\n  width: 3.5rem;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center;\n  -webkit-box-pack: center;\n      -ms-flex-pack: center;\n          justify-content: center;\n  border-radius: 9999px;\n}\n\n:host([variant="icon-text"]) .card__content {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  height: 100%;\n  -webkit-box-orient: vertical;\n  -webkit-box-direction: normal;\n      -ms-flex-direction: column;\n          flex-direction: column;\n  --tw-bg-opacity: 1;\n  background-color: rgb(0 28 64 / var(--tw-bg-opacity));\n  --tw-text-opacity: 1;\n  color: rgb(255 255 255 / var(--tw-text-opacity));\n}\n\n:host([variant="icon-text"]) .card__icon-text {\n  height: 100%;\n  --tw-bg-opacity: 1;\n  background-color: rgb(0 28 64 / var(--tw-bg-opacity));\n}\n\n/* icon-text-no-link variant */\n\n:host([variant="icon-text-no-link"]) .card {\n  background-color: transparent;\n}\n\n:host([variant="icon-text-no-link"]) ::slotted([slot="media"]) {\n  margin-bottom: 1.25rem;\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center;\n  -webkit-box-pack: center;\n      -ms-flex-pack: center;\n          justify-content: center;\n  border-radius: 9999px;\n}\n\n@media (min-width: 768px) {\n\n  :host([variant="icon-text-no-link"]) ::slotted([slot="media"]) {\n    height: 3.5rem;\n  }\n\n  :host([variant="icon-text-no-link"]) ::slotted([slot="media"]) {\n    width: 3.5rem;\n  }\n}\n\n:host([variant="icon-text-no-link"]) .card__title {\n  --tw-text-opacity: 1;\n  color: rgb(255 115 66 / var(--tw-text-opacity));\n}\n\n:host([variant="icon-text-no-link"]) .card__content {\n  background-color: transparent;\n  text-align: center;\n}\n\n@media (min-width: 768px) {\n\n  :host([variant="icon-text-no-link"]) .card__content {\n    text-align: left;\n  }\n}\n\n/* Menu cards */\n\n:host([variant="menu-cards"]) .card {\n  margin-bottom: 1.25rem;\n  border-radius: 0;\n}\n\n:host([variant="menu-cards"]) .card__title {\n  font-size: 1rem;\n  --tw-text-opacity: 1;\n  color: rgb(0 28 64 / var(--tw-text-opacity));\n}\n\n:host([variant="menu-cards"]) ::slotted([slot="action"]) {\n  padding-top: 0px;\n  font-size: 0.875rem;\n}\n\n:host([variant="menu-cards"]) .card__media {\n  min-width: auto;\n}\n\n:host([variant="menu-cards"]) .card__content {\n  background-color: transparent;\n  padding: 0px;\n}\n')}
      `]}render(){const{date:t,time:n,ribbon:o,group:e,author:r,hasAction:x,iconMore:y,label:v,cardLink:w,variant:f}=this;let k;switch(f){case"no-image":k=a.dy`
          <div class="card__category"><slot name="category"></slot></div>
          <div class="card__content">
            ${d(e)} ${c(t)}
            ${p(v)}
            <slot></slot>
            ${m(x)}
          </div>
        `;break;case"group-with-icon":k=a.dy`
          <div class="card__category"><slot name="category"></slot></div>
          <div class="card__media">
            ${s(o)}
            <a class="card__link" href="${w}">
              <slot name="media"></slot>
            </a>
          </div>
          <div class="card__content">
            <span>${d(e)} ${c(t)} ${l(n)}</span>
            ${p(v)}
            <slot></slot>
            ${b(r)}
            ${m(x)}
          </div>
          ${g(y)}
        `;break;case"full-image":k=a.dy`
          <a class="card__link" href="${w}">
            <slot name="media"></slot>
            <div class="card__content">
              ${d(e)} ${c(t)} ${p(v)}
              <slot class="card__text"></slot>
              ${g(y)}
            </div>
          </a>
        `;break;case"compact":k=a.dy`
          <div class="card__content">
            <span>${c(t)}</span>
            ${p(v)}
            <slot></slot>
            ${b(r)}
          </div>
        `;break;case"download":k=a.dy`
          <div class="card__media">
            ${s(o)}
            <a class="card__link" href="${w}">
              <slot name="media"></slot>
            </a>
          </div>
          <div class="card__content">
            <span>${c(t)}</span>
            <qz-link href="${w}"> ${p(v)} </qz-link>
            <slot></slot>
            ${b(r)}
            <slot name="download"></slot>
            ${m(x)}
          </div>
          ${g(y)}
        `;break;case"event":k=a.dy`
          <div class="card__content" part="event-card__content">
            <div class="card__dates">
              <slot name="start-date"></slot>
              <slot name="separator"></slot>
              <slot name="end-date"></slot>
            </div>
            <a href="${w}"> ${p(v)} </a>
            <slot name="location"></slot>
            <slot name="organisers"></slot>
            ${m(x)}
          </div>
        `;break;case"icon-text":k=a.dy`
          <div class="card__icon-text" part="card__icon-text">
            <div class="card__content">
              <div class="card__media"><slot name="media"></slot></div>
              ${p(v)}
              <slot></slot>
              ${m(x)}
            </div>
          </div>
        `;break;case"icon-text-no-link":k=a.dy`
          <div class="card__content">
            <div class="card__media"><slot name="media"></slot></div>
            ${h=v,h?a.dy`<h3 class="card__title" part="card__title">${h}</h3>`:a.dy``}
            <slot></slot>
          </div>
        `;break;case"menu-cards":k=a.dy`
          <div class="card__media">
            <a class="card__link" href="${w}">
              <slot name="media"></slot>
            </a>
          </div>
          <div class="card__content">
            <qz-link href="${w}"> ${p(v)} </qz-link>
            <slot></slot>
            ${m(x)}
          </div>
        `;break;default:k=a.dy`
          <div class="card__category"><slot name="category"></slot></div>
          <div class="card__media">
            <a class="card__link" href="${w}">
              <slot name="media"></slot>
            </a>
          </div>
          <div class="card__content">
            <span>${d(e)} ${c(t)} ${l(n)}</span>
            <qz-link href="${w}"> ${p(v)} </qz-link>
            <slot></slot>
            ${b(r)} ${m(x)}
          </div>
        `}var h;return a.dy`
      ${i.w.baseStyles}
      <div class="card">${k}</div>
    `}};r([(0,e.Cb)({type:String})],x.prototype,"date",void 0),r([(0,e.Cb)({type:String})],x.prototype,"time",void 0),r([(0,e.Cb)({type:String,attribute:"ribbon"})],x.prototype,"ribbon",void 0),r([(0,e.Cb)({type:String})],x.prototype,"group",void 0),r([(0,e.Cb)({type:Boolean,attribute:"has-author"})],x.prototype,"author",void 0),r([(0,e.Cb)({type:String,attribute:"card-link"})],x.prototype,"cardLink",void 0),r([(0,e.Cb)({type:Boolean,attribute:"has-action"})],x.prototype,"hasAction",void 0),r([(0,e.Cb)({type:Boolean,attribute:"has-more"})],x.prototype,"iconMore",void 0),r([(0,e.Cb)({type:String})],x.prototype,"orientation",void 0),r([(0,e.Cb)({type:String})],x.prototype,"label",void 0),r([(0,e.Cb)({type:String})],x.prototype,"variant",void 0),x=r([(0,e.Mo)("qz-card")],x)}},function(t){t.O(0,[736],(function(){return t(t.s=3543)})),t.O()}]);;
(function(Drupal,drupalSettings,once){const sitewideAlertsSelector='[data-sitewide-alert]';const shouldShowOnThisPage=(pages=[],negate=true)=>{if(pages.length===0)return true;let pagePathMatches=false;const currentPath=window.location.pathname;for(let i=0;i<pages.length;i++){const baseUrl=drupalSettings.path.baseUrl.slice(0,-1);const page=baseUrl+pages[i];if(page.charAt(page.length-1)==='*'){if(currentPath.startsWith(page.substring(0,page.length-1))){pagePathMatches=true;break;}}else{if(page===currentPath){pagePathMatches=true;break;}}}return negate?!pagePathMatches:pagePathMatches;};const alertWasDismissed=(alert)=>{if(!(`alert-dismissed-${alert.uuid}` in window.localStorage))return false;const dismissedAtTimestamp=Number(window.localStorage.getItem(`alert-dismissed-${alert.uuid}`));return dismissedAtTimestamp>=alert.dismissalIgnoreBefore;};const dismissAlert=(alert)=>{window.localStorage.setItem(`alert-dismissed-${alert.uuid}`,String(Math.round(new Date().getTime()/1000)));document.querySelectorAll(`[data-uuid="${alert.uuid}"]`).forEach((alert)=>{alert.dispatchEvent(new CustomEvent('sitewide-alert-dismissed',{bubbles:true,composed:true}));removeAlert(alert);});};const buildAlertElement=(alert)=>{const alertElement=document.createElement('div');alertElement.innerHTML=alert.renderedAlert;if(alert.dismissible){const dismissButtons=alertElement.getElementsByClassName('js-dismiss-button');for(let i=0;i<dismissButtons.length;i++)dismissButtons[i].addEventListener('click',()=>dismissAlert(alert));}return alertElement.firstElementChild;};const removeAlert=(alert)=>{alert.dispatchEvent(new CustomEvent('sitewide-alert-removed',{bubbles:true,composed:true}));alert.remove();};const fetchAlerts=()=>{return fetch(`${window.location.origin+drupalSettings.path.baseUrl+drupalSettings.path.pathPrefix}sitewide_alert/load`).then((res)=>res.json()).then((result)=>result.sitewideAlerts,(error)=>{console.error(error);});};const removeStaleAlerts=(alerts)=>{const roots=document.querySelectorAll(sitewideAlertsSelector);roots.forEach((root)=>{const existingAlerts=root.querySelectorAll('[data-uuid]');const alertsToBeRemoved=Array.from(existingAlerts).filter((alert)=>!alerts.includes(alert.getAttribute('data-uuid')));alertsToBeRemoved.forEach((alert)=>removeAlert(alert));});};const initAlerts=()=>{const roots=document.querySelectorAll(sitewideAlertsSelector);fetchAlerts().then((alerts)=>{removeStaleAlerts(alerts);alerts.forEach((alert)=>{const dismissed=alertWasDismissed(alert);const showOnThisPage=shouldShowOnThisPage(alert.showOnPages,alert.negateShowOnPages);roots.forEach((root)=>{const existingAlertElement=root.querySelector(`[data-uuid="${alert.uuid}"]`);if(showOnThisPage&&!dismissed){const renderableAlertElement=buildAlertElement(alert);existingAlertElement?root.replaceChild(renderableAlertElement,existingAlertElement):root.appendChild(renderableAlertElement);renderableAlertElement.dispatchEvent(new CustomEvent('sitewide-alert-rendered',{bubbles:true,composed:true}));return;}if((dismissed||!showOnThisPage)&&existingAlertElement)removeAlert(existingAlertElement);});});});};const supportsHistoryPushState=()=>{return ('pushState' in window.history&&window.history['pushState']!==null);};const supportsHistoryReplaceState=()=>{return ('replaceState' in window.history&&window.history['replaceState']!==null);};const proxyPushState=()=>{if(supportsHistoryPushState())window.history.pushState=new Proxy(window.history.pushState,{apply(target,thisArg,argArray){triggerHistoryEvent(thisArg,argArray);return target.apply(thisArg,argArray);}});if(supportsHistoryReplaceState())window.history.replaceState=new Proxy(window.history.replaceState,{apply(target,thisArg,argArray){triggerHistoryEvent(thisArg,argArray);return target.apply(thisArg,argArray);}});};const triggerHistoryEvent=(thisArg,argArray)=>{const event=new CustomEvent('sitewidealerts.popstate',{detail:{state:thisArg,options:argArray}});window.dispatchEvent(event);};const historyListener=()=>{window.addEventListener('sitewidealerts.popstate',()=>initAlerts());window.addEventListener('popstate',()=>initAlerts());};Drupal.behaviors.sitewide_alert_init={attach:(context)=>{once('sitewide_alerts_init','html',context).forEach(()=>{initAlerts();proxyPushState();historyListener();if(drupalSettings.sitewideAlert.automaticRefresh===true){const interval=setInterval(()=>initAlerts(),drupalSettings.sitewideAlert.refreshInterval<1000?1000:drupalSettings.sitewideAlert.refreshInterval);if(!drupalSettings.sitewideAlert.automaticRefresh)clearInterval(interval);}});}};})(Drupal,drupalSettings,once);;
